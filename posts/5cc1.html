<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="pragma" content="no-cache">
  <meta http-equiv="cache-control" content="no-cache">
  <meta http-equiv="expires" content="0">
  
  <title>Exercise of chapter 04 | tlhg&#39;s Blog|</title>
  <meta name="author" content="Heisenberg Lee">
  
  <meta name="description" content="学习记录。">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="Exercise of chapter 04"/>
  <meta property="og:site_name" content="tlhg&#39;s Blog|"/>

  
    <meta property="og:image" content="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200803213512.png" />
  

  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  
  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-70812759-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-70812759-1');
</script>






<meta name="generator" content="Hexo 5.4.2"><link rel="alternate" href="/atom.xml" title="tlhg's Blog|" type="application/atom+xml">
</head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/">tlhg&#39;s Blog|</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class=""></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/categories" title="All the categories.">
			  <i class=""></i>Categories
			</a>
		  </li>
		  
		  <li>
			<a href="/tags" title="All the tags.">
			  <i class=""></i>Tags
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class=""></i>About
			</a>
		  </li>
		  
		  <li>
			<a href="/atom.xml" title="Subscribe me.">
			  <i class=""></i>RSS
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 


	
		<div class="page-header">
			<h1> Exercise of chapter 04</h1>
		</div>
	



<div class="row post">
	<!-- cols -->
	
	<div id="top_meta"></div>
	<div class="col-md-9">
	

	<!-- content -->
	<div class="mypage">		
	  		

	  <h2 id="exercise_41"><a class="markdownIt-Anchor" href="#exercise_41"></a> Exercise_4.1</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//表达式 5 + 10 * 20 / 2 的求值结果是多少？</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">int</span> t = <span class="number">5</span> + <span class="number">10</span> * <span class="number">20</span> / <span class="number">2</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">"the result is  "</span> &lt;&lt; t &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise_42"><a class="markdownIt-Anchor" href="#exercise_42"></a> Exercise_4.2</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    根据4.12节中的表，在下述表达式的合理位置添加括号，</span></span><br><span class="line"><span class="comment">    使得添加括号后运算对象的组合顺序与添加括号前一致。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    vector &lt;<span class="type">int</span>&gt; <span class="built_in">vec</span>(<span class="number">10</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="type">int</span> first1 = *(vec.<span class="built_in">begin</span>());</span><br><span class="line">    <span class="type">int</span> first2 = (*(vec.<span class="built_in">begin</span>())) + <span class="number">1</span>;</span><br><span class="line">    cout &lt;&lt; first1 &lt;&lt; <span class="string">"  "</span> &lt;&lt; first2;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise_43"><a class="markdownIt-Anchor" href="#exercise_43"></a> Exercise_4.3</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    C++语言没有明确规定大多数二元运算符的求值顺序，给编译器优化留下了余地。</span></span><br><span class="line"><span class="comment">    这种策略实际上是在代码生成效率和程序潜在缺陷之间进行了权衡，</span></span><br><span class="line"><span class="comment">    你认为这可以接受吗？请说出你的理由。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    可以接受。C++的设计思想是尽可能地“相信”程序员，将效率最大化。</span></span><br><span class="line"><span class="comment">    然而这种思想却有着潜在的危害，就是无法控制程序员自身引发的错误。</span></span><br><span class="line"><span class="comment">    因此 Java 的诞生也是必然，Java的思想就是尽可能地“不相信”程序员。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise_44"><a class="markdownIt-Anchor" href="#exercise_44"></a> Exercise_4.4</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    在下面的表达式中添加括号，说明其求值过程及最终结果。</span></span><br><span class="line"><span class="comment">    编写程序编译该（不加括号的）表达式并输出结果验证之前的推断。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">int</span> t= <span class="number">12</span> / <span class="number">3</span> * <span class="number">4</span> + <span class="number">5</span> * <span class="number">15</span> + <span class="number">24</span> % <span class="number">4</span> / <span class="number">2</span>;</span><br><span class="line">    <span class="type">int</span> s = ((<span class="number">12</span> / <span class="number">3</span>) * <span class="number">4</span>) + (<span class="number">5</span> * <span class="number">15</span>) + ((<span class="number">24</span> % <span class="number">4</span>) / <span class="number">2</span>);</span><br><span class="line">    cout &lt;&lt; t&lt;&lt;<span class="string">" "</span>&lt;&lt;s&lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise_45"><a class="markdownIt-Anchor" href="#exercise_45"></a> Exercise_4.5</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//写出下列表达式的求值结果。</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">-30 * 3 + 21 / 5  // -90+4 = -86</span></span><br><span class="line"><span class="comment">-30 + 3 * 21 / 5  // -30+63/5 = -30+12 = -18</span></span><br><span class="line"><span class="comment">30 / 3 * 21 % 5   // 10*21%5 = 210%5 = 0</span></span><br><span class="line"><span class="comment">-30 / 3 * 21 % 4  // -10*21%4 = -210%4 = -2</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise_46"><a class="markdownIt-Anchor" href="#exercise_46"></a> Exercise_4.6</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//写出一条表达式用于确定一个整数是奇数还是偶数。</span></span><br><span class="line"><span class="comment">//if (i % 2 == 0) /* ... */</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise_47"><a class="markdownIt-Anchor" href="#exercise_47"></a> Exercise_4.7</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//溢出是何含义？写出三条将导致溢出的表达式。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    当计算的结果超出该类型所能表示的范围时就会产生溢出。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">short</span> svalue = <span class="number">32767</span>; ++svalue; <span class="comment">// -32768</span></span><br><span class="line">    <span class="type">unsigned</span> uivalue = <span class="number">0</span>; --uivalue;  <span class="comment">// 4294967295</span></span><br><span class="line">    <span class="type">unsigned</span> <span class="type">short</span> usvalue = <span class="number">65535</span>; ++usvalue;  <span class="comment">// 0</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>v</p>
<h2 id="exercise_48"><a class="markdownIt-Anchor" href="#exercise_48"></a> Exercise_4.8</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//说明在逻辑与、逻辑或及相等性运算符中运算对象的求值顺序。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    逻辑与运算符和逻辑或运算符都是先求左侧运算对象的值再求右侧运算对象的值，</span></span><br><span class="line"><span class="comment">    当且仅当左侧运算对象无法确定表达式的结果时才会计算右侧运算对象的值。</span></span><br><span class="line"><span class="comment">    这种策略称为 短路求值。相等性运算符未定义求值顺序。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise_49"><a class="markdownIt-Anchor" href="#exercise_49"></a> Exercise_4.9</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*  解释在下面的if语句中条件部分的判断过程。</span></span><br><span class="line"><span class="comment">    const char *cp = "Hello World";</span></span><br><span class="line"><span class="comment">    if (cp &amp;&amp; *cp)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    首先判断 cp ，cp 不是一个空指针，因此 cp 为真。</span></span><br><span class="line"><span class="comment">    然后判断 *cp，*cp 的值是字符 'H'，非0。</span></span><br><span class="line"><span class="comment">    因此最后的结果为真。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise_410"><a class="markdownIt-Anchor" href="#exercise_410"></a> Exercise_4.10</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//为while 循环写一个条件，使其从标准输入中读取整数，遇到 42 时停止。</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>, num=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(cin &gt;&gt; i &amp;&amp; i != <span class="number">42</span>){</span><br><span class="line">        num++;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise_411"><a class="markdownIt-Anchor" href="#exercise_411"></a> Exercise_4.11</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//书写一条表达式用于测试4个值a、b、c、d的关系，确保a大于b、b大于c、c大于d。</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">int</span> a, b, c, d;</span><br><span class="line">    <span class="keyword">if</span>(a&gt;b &amp;&amp; b&gt;c &amp;&amp; c&gt;d)</span><br><span class="line">        cout &lt;&lt; a &lt;&lt; b &lt;&lt; c &lt;&lt; d;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise_412"><a class="markdownIt-Anchor" href="#exercise_412"></a> Exercise_4.12</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    假设i、j 和k 是三个整数，说明表达式 i != j &lt; k 的含义。</span></span><br><span class="line"><span class="comment">    这个表达式等于 i != (j &lt; k)。首先得到 j &lt; k 的结果为 true 或 false，转换为整数值是 1 和 0，</span></span><br><span class="line"><span class="comment">    然后判断 i 不等于 1 和 0 ，最终的结果为 bool 值。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise_413"><a class="markdownIt-Anchor" href="#exercise_413"></a> Exercise_4.13</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    在下述语句中，当赋值完成后 i 和 d 的值分别是多少？</span></span><br><span class="line"><span class="comment">    int i;   double d;</span></span><br><span class="line"><span class="comment">    d = i = 3.5; // i = 3, d = 3.0</span></span><br><span class="line"><span class="comment">    i = d = 3.5; // d = 3.5, i = 3</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise_414"><a class="markdownIt-Anchor" href="#exercise_414"></a> Exercise_4.14</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    执行下述 if 语句后将发生什么情况？</span></span><br><span class="line"><span class="comment">    if (42 = i)   // 编译错误。赋值运算符左侧必须是一个可修改的左值。而字面值是右值。</span></span><br><span class="line"><span class="comment">    if (i = 42)   // true.</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise_415"><a class="markdownIt-Anchor" href="#exercise_415"></a> Exercise_4.15</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    下面的赋值是非法的，为什么？应该如何修改？</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">    double dval; int ival; int *pi;</span></span><br><span class="line"><span class="comment">    dval = ival = pi = 0;</span></span><br><span class="line"><span class="comment">    // pi is a pointer to int.</span></span><br><span class="line"><span class="comment">    // can not assign to 'int' from type 'int *'</span></span><br><span class="line"><span class="comment">    // correct it:</span></span><br><span class="line"><span class="comment">    dval = ival = 0;</span></span><br><span class="line"><span class="comment">    pi = 0;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise_416"><a class="markdownIt-Anchor" href="#exercise_416"></a> Exercise_4.16</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    尽管下面的语句合法，但它们实际执行的行为可能和预期并不一样，</span></span><br><span class="line"><span class="comment">    为什么？应该如何修改？</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    if (p = getPtr() != 0)</span></span><br><span class="line"><span class="comment">    if (i = 1024)</span></span><br><span class="line"><span class="comment">    // why? always true. use an assigment as a condition.</span></span><br><span class="line"><span class="comment">    // correct it</span></span><br><span class="line"><span class="comment">    if ((p=getPtr()) != 0)</span></span><br><span class="line"><span class="comment">    if (i == 1024)</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise_417"><a class="markdownIt-Anchor" href="#exercise_417"></a> Exercise_4.17</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    说明前置递增运算符和后置递增运算符的区别。</span></span><br><span class="line"><span class="comment">    前置递增运算符将对象本身作为左值返回，</span></span><br><span class="line"><span class="comment">    而后置递增运算符将对象原始值的副本作为右值返回。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise_418"><a class="markdownIt-Anchor" href="#exercise_418"></a> Exercise_4.18</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    如果132页那个输出vector对象元素的while循环使用前置递增运算符，将得到什么结果？</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    将会从第二个元素开始取值，并且最后对 v.end() 进行取值，结果是未定义的。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise_419"><a class="markdownIt-Anchor" href="#exercise_419"></a> Exercise_4.19</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*  </span></span><br><span class="line"><span class="comment">    假设 ptr 的类型是指向 int 的指针、vec 的类型是vector、</span></span><br><span class="line"><span class="comment">    ival 的类型是int，说明下面的表达式是何含义？</span></span><br><span class="line"><span class="comment">    如果有表达式不正确，为什么？应该如何修改？</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    (a) ptr != 0 &amp;&amp; *ptr++  </span></span><br><span class="line"><span class="comment">    (b) ival++ &amp;&amp; ival</span></span><br><span class="line"><span class="comment">    (c) vec[ival++] &lt;= vec[ival] </span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    (a) 判断ptr 不是一个空指针，并且ptr 当前指向的元素的值也为真，然后将ptr指向下一个元素</span></span><br><span class="line"><span class="comment">    (b) 判断 ival 的值为真，并且 (ival + 1) 的值也为真</span></span><br><span class="line"><span class="comment">    (c) 表达式有误。C++并没有规定 &lt;= 运算符两边的求值顺序，应该改为 vec[ival] &lt;= vec[ival+1]</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise_420"><a class="markdownIt-Anchor" href="#exercise_420"></a> Exercise_4.20</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    假设 iter 的类型是 vector::iterator, 说明下面的表达式是否合法。如果合法，表达式的含义是什么？如果不合法，错在何处？</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    (a) *iter++;</span></span><br><span class="line"><span class="comment">    (b) (*iter)++;</span></span><br><span class="line"><span class="comment">    (c) *iter.empty();</span></span><br><span class="line"><span class="comment">    (d) iter-&gt;empty();</span></span><br><span class="line"><span class="comment">    (e) ++*iter;</span></span><br><span class="line"><span class="comment">    (f) iter++-&gt;empty();</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    (a)合法。返回迭代器所指向的元素，然后迭代器递增。</span></span><br><span class="line"><span class="comment">    (b)不合法。因为vector元素类型是 string，没有 ++ 操作。</span></span><br><span class="line"><span class="comment">    (c)不合法。这里应该加括号。</span></span><br><span class="line"><span class="comment">    (d)合法。判断迭代器当前的元素是否为空。</span></span><br><span class="line"><span class="comment">    (e)不合法。string 类型没有 ++ 操作。</span></span><br><span class="line"><span class="comment">    (f)合法。判断迭代器当前元素是否为空，然后迭代器递增。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise_421"><a class="markdownIt-Anchor" href="#exercise_421"></a> Exercise_4.21</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//编写一段程序，使用条件运算符从 vector 中找到哪些元素的值是奇数，然后将这些奇数值翻倍。</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">using</span> std::endl;</span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; ivec{ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span> };</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">auto</span> i : ivec)</span><br><span class="line">	{</span><br><span class="line">		cout &lt;&lt; ((i &amp; <span class="number">0x1</span>) ? i * <span class="number">2</span> : i) &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">	}</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    C语言中2113&amp;表示按位与，0x开头的表示的是十六5261进制数，</span></span><br><span class="line"><span class="comment">    k&amp;0x1表示k与0x1按位与4102，其效果为取k的二进制中最右边的数字，</span></span><br><span class="line"><span class="comment">    该式也可以用做判断k的奇偶性， 如果k为奇数，其计算结果为1，否则为0。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise_422"><a class="markdownIt-Anchor" href="#exercise_422"></a> Exercise_4.22</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    本节的示例程序将成绩划分为high pass、pass 和 fial 三种，</span></span><br><span class="line"><span class="comment">    扩展该程序使其进一步将 60 分到 75 分之间的成绩设定为 low pass。</span></span><br><span class="line"><span class="comment">    要求程序包含两个版本：一个版本只使用条件运算符；</span></span><br><span class="line"><span class="comment">    另一个版本使用1个或多个if语句。</span></span><br><span class="line"><span class="comment">    哪个版本的程序更容易理解呢？为什么？</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> std::cout; <span class="keyword">using</span> std::cin; <span class="keyword">using</span> std::endl;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">unsigned</span> g; cin &gt;&gt; g;)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">auto</span> result = g &gt; <span class="number">90</span> ? <span class="string">"high pass"</span> : g &lt; <span class="number">60</span> ? <span class="string">"fail"</span> : g &lt; <span class="number">75</span> ? <span class="string">"low pass"</span> : <span class="string">"pass"</span>;</span><br><span class="line">		cout &lt;&lt; result &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// -------------------------</span></span><br><span class="line">		<span class="keyword">if</span> (g &gt; <span class="number">90</span>)         cout &lt;&lt; <span class="string">"high pass"</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (g &lt; <span class="number">60</span>)    cout &lt;&lt; <span class="string">"fail"</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (g &lt; <span class="number">75</span>)    cout &lt;&lt; <span class="string">"low pass"</span>;</span><br><span class="line">		<span class="keyword">else</span>                cout &lt;&lt; <span class="string">"pass"</span>;</span><br><span class="line">		cout &lt;&lt; endl;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise_423"><a class="markdownIt-Anchor" href="#exercise_423"></a> Exercise_4.23</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*  </span></span><br><span class="line"><span class="comment">    因为运算符的优先级问题，下面这条表达式无法通过编译。</span></span><br><span class="line"><span class="comment">    根据4.12节中的表指出它的问题在哪里？应该如何修改？</span></span><br><span class="line"><span class="comment">    string s = "word";</span></span><br><span class="line"><span class="comment">    string pl = s + s[s.size() - 1] == 's' ? "" : "s" ;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    加法运算符的优先级高于条件运算符。因此要改为：</span></span><br><span class="line"><span class="comment">    string pl = s + (s[s.size() - 1] == 's' ? "" : "s") ;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise_424"><a class="markdownIt-Anchor" href="#exercise_424"></a> Exercise_4.24</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    本节的示例程序将成绩划分为 high pass、pass、和fail三种，它的依据是条件运算符满足右结合律。</span></span><br><span class="line"><span class="comment">    假如条件运算符满足的是左结合律，求值的过程将是怎样的？</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    如果条件运算符满足的是左结合律。那么</span></span><br><span class="line"><span class="comment">    finalgrade = (grade &gt; 90) ? "high pass" : (grade &lt; 60) ? "fail" : "pass";</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">    等同于</span></span><br><span class="line"><span class="comment">    finalgrade = ((grade &gt; 90) ? "high pass" : (grade &lt; 60)) ? "fail" : "pass";</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    假如此时 grade &gt; 90 ，第一个条件表达式的结果是 "high pass" ，而字符串字面值的类型是 const char *，非空所以为真。</span></span><br><span class="line"><span class="comment">    因此第二个条件表达式的结果是 "fail"。这样就出现了自相矛盾的逻辑。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise_425"><a class="markdownIt-Anchor" href="#exercise_425"></a> Exercise_4.25</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    如果一台机器上 int 占 32 位、char 占8位，用的是 Latin-1 字符集，其中字符'q' 的二进制形式是 01110001，</span></span><br><span class="line"><span class="comment">    那么表达式'q' &lt;&lt; 6的值是什么？</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    首先将char类型提升为int 类型，等同于 00000000 00000000 00000000 01110001 &lt;&lt; 6，结果是 00000000 00000000 00011100 01000000，</span></span><br><span class="line"><span class="comment">    转换是十进制是7232。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise_426"><a class="markdownIt-Anchor" href="#exercise_426"></a> Exercise_4.26</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    在本节关于测验成绩的例子中，如果使用unsigned int 作为quiz1 的类型会发生什么情况？</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    在有的机器上，unsigned int 类型可能只有 16 位，因此结果是未定义的。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise_427"><a class="markdownIt-Anchor" href="#exercise_427"></a> Exercise_4.27</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    下列表达式的结果是什么？</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    unsigned long ul1 = 3, ul2 = 7;</span></span><br><span class="line"><span class="comment">    (a) ul1 &amp; ul2 </span></span><br><span class="line"><span class="comment">    (b) ul1 | ul2 </span></span><br><span class="line"><span class="comment">    (c) ul1 &amp;&amp; ul2</span></span><br><span class="line"><span class="comment">    (d) ul1 || ul2 </span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    (a) 3</span></span><br><span class="line"><span class="comment">    (b) 7</span></span><br><span class="line"><span class="comment">    (c) true</span></span><br><span class="line"><span class="comment">    (d) ture</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise_428"><a class="markdownIt-Anchor" href="#exercise_428"></a> Exercise_4.28</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//编写一段程序，输出每一种内置类型所占空间的大小。</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span> </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cout &lt;&lt; <span class="string">"bool:\t\t"</span> &lt;&lt; <span class="built_in">sizeof</span>(<span class="type">bool</span>) &lt;&lt; <span class="string">" bytes"</span> &lt;&lt; endl &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">"char:\t\t"</span> &lt;&lt; <span class="built_in">sizeof</span>(<span class="type">char</span>) &lt;&lt; <span class="string">" bytes"</span> &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">"wchar_t:\t"</span> &lt;&lt; <span class="built_in">sizeof</span>(<span class="type">wchar_t</span>) &lt;&lt; <span class="string">" bytes"</span> &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">"char16_t:\t"</span> &lt;&lt; <span class="built_in">sizeof</span>(<span class="type">char16_t</span>) &lt;&lt; <span class="string">" bytes"</span> &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">"char32_t:\t"</span> &lt;&lt; <span class="built_in">sizeof</span>(<span class="type">char32_t</span>) &lt;&lt; <span class="string">" bytes"</span> &lt;&lt; endl &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">"short:\t\t"</span> &lt;&lt; <span class="built_in">sizeof</span>(<span class="type">short</span>) &lt;&lt; <span class="string">" bytes"</span> &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">"int:\t\t"</span> &lt;&lt; <span class="built_in">sizeof</span>(<span class="type">int</span>) &lt;&lt; <span class="string">" bytes"</span> &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">"long:\t\t"</span> &lt;&lt; <span class="built_in">sizeof</span>(<span class="type">long</span>) &lt;&lt; <span class="string">" bytes"</span> &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">"long long:\t"</span> &lt;&lt; <span class="built_in">sizeof</span>(<span class="type">long</span> <span class="type">long</span>) &lt;&lt; <span class="string">" bytes"</span> &lt;&lt; endl &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">"float:\t\t"</span> &lt;&lt; <span class="built_in">sizeof</span>(<span class="type">float</span>) &lt;&lt; <span class="string">" bytes"</span> &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">"double:\t\t"</span> &lt;&lt; <span class="built_in">sizeof</span>(<span class="type">double</span>) &lt;&lt; <span class="string">" bytes"</span> &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">"long double:\t"</span> &lt;&lt; <span class="built_in">sizeof</span>(<span class="type">long</span> <span class="type">double</span>) &lt;&lt; <span class="string">" bytes"</span> &lt;&lt; endl &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise_429"><a class="markdownIt-Anchor" href="#exercise_429"></a> Exercise_4.29</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    推断下面代码的输出结果并说明理由。实际运行这段程序，</span></span><br><span class="line"><span class="comment">    结果和你想象的一样吗？如不一样，为什么？</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    int x[10];   int *p = x;</span></span><br><span class="line"><span class="comment">    cout &lt;&lt; sizeof(x)/sizeof(*x) &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">    cout &lt;&lt; sizeof(p)/sizeof(*p) &lt;&lt; endl;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    第一个输出结果是 10。第二个结果是未定义。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise_430"><a class="markdownIt-Anchor" href="#exercise_430"></a> Exercise_4.30</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    根据4.12节中的表，在下述表达式的适当位置加上括号，</span></span><br><span class="line"><span class="comment">    使得加上括号之后的表达式的含义与原来的含义相同。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    (a) sizeof x + y      </span></span><br><span class="line"><span class="comment">    (b) sizeof p-&gt;mem[i]  </span></span><br><span class="line"><span class="comment">    (c) sizeof a &lt; b     </span></span><br><span class="line"><span class="comment">    (d) sizeof f()  </span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">    (a) (sizeof x) + y</span></span><br><span class="line"><span class="comment">    (b) sizeof(p-&gt;mem[i])</span></span><br><span class="line"><span class="comment">    (c) sizeof(a) &lt; b</span></span><br><span class="line"><span class="comment">    (d) sizeof(f())</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise_431"><a class="markdownIt-Anchor" href="#exercise_431"></a> Exercise_4.31</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    本节的程序使用了前置版本的递增运算符和递减运算符，解释为什么要用前置版本而不用后置版本。要想使用后置版本的递增递减运算符需要做哪些改动？使用后置版本重写本节的程序。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    在4.5节（132页）已经说过了，除非必须，否则不用递增递减运算符的后置版本。在这里要使用后者版本的递增递减运算符不需要任何改动。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise_432"><a class="markdownIt-Anchor" href="#exercise_432"></a> Exercise_4.32</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    解释下面这个循环的含义。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    constexpr int size = 5;</span></span><br><span class="line"><span class="comment">    int ia[size] = { 1, 2, 3, 4, 5 };</span></span><br><span class="line"><span class="comment">    for (int *ptr = ia, ix = 0;</span></span><br><span class="line"><span class="comment">        ix != size &amp;&amp; ptr != ia+size;</span></span><br><span class="line"><span class="comment">        ++ix, ++ptr) {  ...  }</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">    这个循环在遍历数组 ia，指针 ptr 和 整型 ix 都是起到一个循环计数的功能。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise_433"><a class="markdownIt-Anchor" href="#exercise_433"></a> Exercise_4.33</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    根据4.12节中的表说明下面这条表达式的含义。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    someValue ? ++x, ++y : --x, --y</span></span><br><span class="line"><span class="comment">    逗号表达式的优先级是最低的。因此这条表达式也等于：</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    (someValue ? ++x, ++y : --x), --y</span></span><br><span class="line"><span class="comment">    如果 someValue的值为真，x 和 y 的值都自增并返回 y 值，然后丢弃 y 值，y递减并返回 y 值。如果 someValue的值为假，x 递减并返回 x 值，然后丢弃 x 值，y递减并返回 y 值。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise_434"><a class="markdownIt-Anchor" href="#exercise_434"></a> Exercise_4.34</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    根据本节给出的变量定义，说明在下面的表达式中奖发生什么样的类型转换：</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    (a) if (fval)</span></span><br><span class="line"><span class="comment">    (b) dval = fval + ival;</span></span><br><span class="line"><span class="comment">    (c) dval + ival * cval;</span></span><br><span class="line"><span class="comment">    需要注意每种运算符遵循的是左结合律还是右结合律。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    (a) fval 转换为 bool 类型</span></span><br><span class="line"><span class="comment">    (b) ival 转换为 float ，相加的结果转换为 double</span></span><br><span class="line"><span class="comment">    (c) cval 转换为 int，然后相乘的结果转换为 double</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise_435"><a class="markdownIt-Anchor" href="#exercise_435"></a> Exercise_4.35</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    假设有如下的定义：</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    char cval;</span></span><br><span class="line"><span class="comment">    int ival;</span></span><br><span class="line"><span class="comment">    unsigned int ui;</span></span><br><span class="line"><span class="comment">    float fval;</span></span><br><span class="line"><span class="comment">    double dval;</span></span><br><span class="line"><span class="comment">    请回答在下面的表达式中发生了隐式类型转换吗？如果有，指出来。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    (a) cval = 'a' + 3;</span></span><br><span class="line"><span class="comment">    (b) fval = ui - ival * 1.0;</span></span><br><span class="line"><span class="comment">    (c) dval = ui * fval;</span></span><br><span class="line"><span class="comment">    (d) cval = ival + fval + dval;</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">    (a) 'a' 转换为 int ，然后与 3 相加的结果转换为 char</span></span><br><span class="line"><span class="comment">    (b) ival 转换为 double，ui 转换为 double，结果转换为 float</span></span><br><span class="line"><span class="comment">    (c) ui 转换为 float，结果转换为 double</span></span><br><span class="line"><span class="comment">    (d) ival 转换为 float，与fval相加后的结果转换为 double，最后的结果转换为char</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise_436"><a class="markdownIt-Anchor" href="#exercise_436"></a> Exercise_4.36</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    假设 i 是int类型，d 是double类型，书写表达式 i*=d 使其执行整数类型的乘法而非浮点类型的乘法。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    i *= static_cast&lt;int&gt;(d);</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise_437"><a class="markdownIt-Anchor" href="#exercise_437"></a> Exercise_4.37</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    用命名的强制类型转换改写下列旧式的转换语句。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    int i; double d; const string *ps; char *pc; void *pv;</span></span><br><span class="line"><span class="comment">    (a) pv = (void*)ps;</span></span><br><span class="line"><span class="comment">    (b) i = int(*pc);</span></span><br><span class="line"><span class="comment">    (c) pv = &amp;d;</span></span><br><span class="line"><span class="comment">    (d) pc = (char*)pv;</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">    (a) pv = static_cast&lt;void*&gt;(const_cast&lt;string*&gt;(ps));</span></span><br><span class="line"><span class="comment">    (b) i = static_cast(*pc);</span></span><br><span class="line"><span class="comment">    (c) pv = static_cast&lt;void*&gt;(&amp;d);</span></span><br><span class="line"><span class="comment">    (d) pc = static_cast&lt;char*&gt;(pv);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise_438"><a class="markdownIt-Anchor" href="#exercise_438"></a> Exercise_4.38</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    说明下面这条表达式的含义。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    double slope = static_cast&lt;double&gt;(j/i);</span></span><br><span class="line"><span class="comment">    将 j/i 的结果值转换为 double，然后赋值给slope。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
	  <div class="article-footer-copyright">

    本博客采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议(CC BY-NC-SA 4.0) 发布.</a>
</div>

	</div>

	
	<span id="/posts/5cc1.html" class="leancloud-visitors view" data-flag-title="Exercise of chapter 04">
		<em class="post-meta-item-text"> Page View </em> <i class="leancloud-visitors-count"></i>
	</span>
	
	<div>
  	<center>

	<div class="pagination">

    
    
    <a href="/posts/eada.html" type="button" class="btn btn-default"><i
                class="fa fa-arrow-circle-o-left"></i> 上一页</a>
    

    <a href="/" type="button" class="btn btn-default"><i class="fa fa-home"></i>Home</a>
    
    <a href="/posts/45e4.html" type="button" class="btn btn-default ">下一页<i
                class="fa fa-arrow-circle-o-right"></i></a>
    

    
</div>


    </center>
	</div>
	
	<!-- comment -->
	<!--
<section id="comment">
    <h2 class="title">留言</h2>

    
</section>

-->
	
		<section id="comments" class="comments">
			<style>
			.comments{margin:30px;padding:10px;background:rgb(0, 0, 0)}
			@media screen and (max-width:800px){.comments{margin:auto;padding:10px;background:#000}}
			</style>
			<div id="vcomment" class="comment"></div>
<script src='//unpkg.com/valine/dist/Valine.min.js'></script>
<script src="https://cdnjs.loli.net/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script>
var valineConfig = {"enable":true,"appId":"AA9eNAftQgfjEcK3l0j71rDS-gzGzoHsz","appKey":"E1r06kyXdl3RxWbXxaUQ6tPg","placeholder":"提交评论时留下邮箱收到回复后将自动通知","visitor":true,"avatar":"monsterid","requiredFields":["nick","mail"]}
valineConfig.el='#vcomment';
new Valine(valineConfig);
    // new Valine({
    //     el: '#vcomment',
    //     appId: "",
    //     appKey: "",
    //     placeholder: "提交评论时留下邮箱收到回复后将自动通知",
    //     avatar:"monsterid",
    //     visitor: "true",
    //     requiredFields: "nick,mail".split(','),
    // });
</script>

		</section>
	
	</div> <!-- col-md-9/col-md-12 -->


	
	<div id="side_meta">
		<div class="col-md-3" id="post_meta"> 

	<!-- date -->
	
	<div class="meta-widget">
	<i class="fa fa-clock-o"></i>
	2020-04-07 
	</div>
	

	<!-- categories -->
    
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#categorys"><i class="fa fa-folder"></i></a>	
    <ul id="categorys" class="tag_box list-unstyled collapse in">
          
  <li>
    <li><a href="/categories/language/">language<span>14</span></a></li>
  </li>

    </ul>
	</div>
	

	<!-- tags -->
	
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#tags"><i class="fa fa-tags"></i></a>		  
    <ul id="tags" class="tag_box list-unstyled collapse in">	  
	    
  <li><a href="/tags/C/">C++<span>12</span></a></li>
    </ul>
	</div>
		

	<!-- toc -->
	<div class="meta-widget">
	
	</div>
	
    <hr>
	
</div><!-- col-md-3 -->

		

	</div>
	
		

</div><!-- row -->

<!--
 -->



	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  
  &copy; 2022 Heisenberg Lee's Blog
  
      powered by <a href="http://hexo.io/" target="_blank">Hexo</a>.Theme <a href="https://github.com/Ares-X/hexo-theme-freemind.bithack" target="_blank">freemind.bithack</a>  
</p>
 </footer>
</div> <!-- container-narrow -->
  


  
<a id="gotop" href="#">   
  <span>⬆︎TOP</span>
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>


        <script src="//cdn.jsdelivr.net/npm/js-base64/base64.min.js"></script>
        <script>
        $('a').each(function() {
          const $this = $(this);
          const href = $this.attr('href');
          if (href && href.match('^((http|https|thunder|qqdl|ed2k|Flashget|qbrowser|ftp|rtsp|mms)://)')) {
            const strs = href.split('/');
            if (strs.length >= 3) {
                const host = strs[2];
                if (host !== 'tlhg.top' || window.location.host) {
                    $this.attr('href', '/go.html?u='+Base64.encode(href)+'').attr('rel', 'external nofollow noopener noreferrer');
                    if (true) {
                        $this.attr('target', '_blank');
                    }
                }
            }
          }
        });
        </script></body>
   </html>
