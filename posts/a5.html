<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="pragma" content="no-cache">
  <meta http-equiv="cache-control" content="no-cache">
  <meta http-equiv="expires" content="0">
  
  <title>Exercise of chapter 3 | tlhg&#39;s Blog|</title>
  <meta name="author" content="Heisenberg Lee">
  
  <meta name="description" content="学习记录。">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="Exercise of chapter 3"/>
  <meta property="og:site_name" content="tlhg&#39;s Blog|"/>

  
    <meta property="og:image" content="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200803213512.png" />
  

  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  
  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-70812759-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-70812759-1');
</script>






<meta name="generator" content="Hexo 5.4.2"><link rel="alternate" href="/atom.xml" title="tlhg's Blog|" type="application/atom+xml">
</head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/">tlhg&#39;s Blog|</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class=""></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/categories" title="All the categories.">
			  <i class=""></i>Categories
			</a>
		  </li>
		  
		  <li>
			<a href="/tags" title="All the tags.">
			  <i class=""></i>Tags
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class=""></i>About
			</a>
		  </li>
		  
		  <li>
			<a href="/atom.xml" title="Subscribe me.">
			  <i class=""></i>RSS
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 


	
		<div class="page-header">
			<h1> Exercise of chapter 3</h1>
		</div>
	



<div class="row post">
	<!-- cols -->
	
	<div id="top_meta"></div>
	<div class="col-md-9">
	

	<!-- content -->
	<div class="mypage">		
	  		

	  <h2 id="exercise-32"><a class="markdownIt-Anchor" href="#exercise-32"></a> Exercise 3.2</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*   编写一段程序从标准输入中一次读入一行，然后修改该程序使其一次读入一个词。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> std::string;</span><br><span class="line"><span class="keyword">using</span> std::cin;</span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">using</span> std::endl;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    string s;</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">getline</span>(cin,s))</span><br><span class="line">	{</span><br><span class="line">		cout &lt;&lt; s &lt;&lt; endl;</span><br><span class="line">	}      <span class="comment">//一次读入一行</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span> (cin &gt;&gt; s)</span><br><span class="line">	{</span><br><span class="line">		cout &lt;&lt; s &lt;&lt; endl;</span><br><span class="line">	}       <span class="comment">//一次读入一个词</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-33"><a class="markdownIt-Anchor" href="#exercise-33"></a> Exercise 3.3</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*   请说明string类的输入运算符和getline函数分别是如何处理空白字符的。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> std::string;</span><br><span class="line"><span class="keyword">using</span> std::cin;</span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">using</span> std::endl;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line"><span class="comment">/*******输入 " this is a string."************/</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*   类似 getline(is, s) 的读取，string对象</span></span><br><span class="line"><span class="comment">*   会从输入流中读取字符，直到遇见换行符为止。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">    string s;  <span class="comment">// 输入 " this is a string."</span></span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">getline</span>(cin,s))</span><br><span class="line">	{</span><br><span class="line">		cout &lt;&lt; s &lt;&lt; endl;</span><br><span class="line">	}</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*   类似 is &gt;&gt; s 的读取，string对象会忽略开头的空白</span></span><br><span class="line"><span class="comment">*   并从第一个真正的字符开始，直到遇见下一空白为止。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">	<span class="keyword">while</span> (cin &gt;&gt; s)</span><br><span class="line">	{</span><br><span class="line">		cout &lt;&lt; s &lt;&lt; endl;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-34"><a class="markdownIt-Anchor" href="#exercise-34"></a> Exercise 3.4</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*   请说明string类的输入运算符和getline函数分别是如何处理空白字符的。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> std::string;</span><br><span class="line"><span class="keyword">using</span> std::cin;</span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">using</span> std::endl;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line"><span class="comment">/*******输入 " this is a string."************/</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*   类似 getline(is, s) 的读取，string对象</span></span><br><span class="line"><span class="comment">*   会从输入流中读取字符，直到遇见换行符为止。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">    string s;  <span class="comment">// 输入 " this is a string."</span></span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">getline</span>(cin,s))</span><br><span class="line">	{</span><br><span class="line">		cout &lt;&lt; s &lt;&lt; endl;</span><br><span class="line">	}</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*   类似 is &gt;&gt; s 的读取，string对象会忽略开头的空白</span></span><br><span class="line"><span class="comment">*   并从第一个真正的字符开始，直到遇见下一空白为止。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">	<span class="keyword">while</span> (cin &gt;&gt; s)</span><br><span class="line">	{</span><br><span class="line">		cout &lt;&lt; s &lt;&lt; endl;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-35"><a class="markdownIt-Anchor" href="#exercise-35"></a> Exercise 3.5</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*    编写一段程序从标准输入中读入多个字符串并将他们连接起来，</span></span><br><span class="line"><span class="comment">*    输出连接成的大字符串。然后修改上述程序，用空格把输入的多个字符串分割开来。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> std::string;</span><br><span class="line"><span class="keyword">using</span> std::cin;</span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">using</span> std::endl;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{   </span><br><span class="line">	string result, s;</span><br><span class="line">	<span class="keyword">while</span> (cin &gt;&gt; s)</span><br><span class="line">	{</span><br><span class="line">		result += s;</span><br><span class="line">	}</span><br><span class="line">	cout &lt;&lt; result &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    string result, s;</span><br><span class="line">	<span class="keyword">while</span> (cin &gt;&gt; s)</span><br><span class="line">	{</span><br><span class="line">		result += s + <span class="string">" "</span>;</span><br><span class="line">	}</span><br><span class="line">	cout &lt;&lt; result &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-36"><a class="markdownIt-Anchor" href="#exercise-36"></a> Exercise 3.6</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> std::string;</span><br><span class="line"><span class="keyword">using</span> std::cin;</span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">using</span> std::endl;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="function">string <span class="title">line</span> <span class="params">(<span class="string">"this is a string."</span>)</span></span>;  </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;c:line){</span><br><span class="line">       <span class="keyword">if</span>(<span class="built_in">isalpha</span>(c)){</span><br><span class="line">           c = <span class="string">'X'</span>;</span><br><span class="line">       }</span><br><span class="line">    }</span><br><span class="line">    cout &lt;&lt; line &lt;&lt; endl;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-37"><a class="markdownIt-Anchor" href="#exercise-37"></a> Exercise 3.7</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> std::string;</span><br><span class="line"><span class="keyword">using</span> std::cin;</span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">using</span> std::endl;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="function">string <span class="title">line</span> <span class="params">(<span class="string">"this is a string."</span>)</span></span>;  </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">char</span> c:line){</span><br><span class="line">       <span class="keyword">if</span>(<span class="built_in">isalpha</span>(c)){</span><br><span class="line">           c = <span class="string">'X'</span>;</span><br><span class="line">       }</span><br><span class="line">    }</span><br><span class="line">    cout &lt;&lt; line &lt;&lt; endl;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"><span class="comment">//如果设置为char，那么原来的字符串不会发生改变。</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-38"><a class="markdownIt-Anchor" href="#exercise-38"></a> Exercise 3.8</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> std::string;</span><br><span class="line"><span class="keyword">using</span> std::cin;</span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">using</span> std::endl;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="function">string <span class="title">line</span><span class="params">(<span class="string">"this is a string"</span>)</span></span>;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (i&lt;line.<span class="built_in">size</span>()){</span><br><span class="line">        <span class="keyword">if</span>( <span class="built_in">isalpha</span>(line[i]))</span><br><span class="line">        {</span><br><span class="line">            line[i] = <span class="string">'X'</span>;</span><br><span class="line">        }</span><br><span class="line">        i++;</span><br><span class="line">    }</span><br><span class="line">    cout &lt;&lt; line &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; line.<span class="built_in">size</span>();i++){</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">isalpha</span>(line[i]))</span><br><span class="line">            line[i] = <span class="string">'Y'</span>;</span><br><span class="line">    }</span><br><span class="line">    cout &lt;&lt; line &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 范围for语句更好，不直接操作索引，更简洁。</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-39"><a class="markdownIt-Anchor" href="#exercise-39"></a> Exercise 3.9</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> std::string;</span><br><span class="line"><span class="keyword">using</span> std::cin;</span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">using</span> std::endl;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="function">string <span class="title">line</span><span class="params">(<span class="string">"this is a string"</span>)</span></span>;</span><br><span class="line">    cout &lt;&lt; line[<span class="number">0</span>] &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    string s;</span><br><span class="line">    cout &lt;&lt; s[<span class="number">0</span>] &lt;&lt; endl;     <span class="comment">//使用下标访问空字符串是非法的行为。</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-310"><a class="markdownIt-Anchor" href="#exercise-310"></a> Exercise 3.10</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> std::string;</span><br><span class="line"><span class="keyword">using</span> std::cin;</span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">using</span> std::endl;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="function">string <span class="title">line</span><span class="params">(<span class="string">"Hello my name is lhg, this is my blog."</span>)</span></span>;</span><br><span class="line">    string result;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i != line.<span class="built_in">size</span>();i++){</span><br><span class="line">        <span class="keyword">if</span>(!<span class="built_in">ispunct</span>(line[i]))</span><br><span class="line">            result += line[i];</span><br><span class="line">    } <span class="comment">// one </span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> c:line){</span><br><span class="line">        <span class="keyword">if</span>(!<span class="built_in">ispunct</span>(c))</span><br><span class="line">            result += c;</span><br><span class="line">    } <span class="comment">// two</span></span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; line &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-311"><a class="markdownIt-Anchor" href="#exercise-311"></a> Exercise 3.11</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> std::string;</span><br><span class="line"><span class="keyword">using</span> std::cin;</span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">using</span> std::endl;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* Is the following range for legal? If so, what is the type of c?</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">    <span class="function"><span class="type">const</span> string <span class="title">line</span><span class="params">(<span class="string">"keep out !"</span>)</span></span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;c:line){</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        ****************</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*   要根据for循环中的代码来看是否合法，c是string 对象中字符的引用，s是常量。</span></span><br><span class="line"><span class="comment">    因此如果for循环中的代码重新给c赋值就会非法，如果不改变c的值，那么合法。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-312"><a class="markdownIt-Anchor" href="#exercise-312"></a> Exercise 3.12</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*   下列vector对象的定义有不正确的吗？如果有，请指出来。</span></span><br><span class="line"><span class="comment">*    对于正确的，描述其执行结果；对于不正确的，说明其错误的原因。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"><span class="keyword">using</span> std::string;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; ivec;         <span class="comment">// 在C++11当中合法</span></span><br><span class="line"><span class="comment">//    vector&lt;string&gt; svec = ivec;       // 不合法，类型不一样</span></span><br><span class="line">    <span class="function">vector&lt;string&gt; <span class="title">svec</span><span class="params">(<span class="number">10</span>, <span class="string">"null"</span>)</span></span>;  <span class="comment">// 合法</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-313"><a class="markdownIt-Anchor" href="#exercise-313"></a> Exercise 3.13</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*   下列的vector对象各包含多少个元素？这些元素的值分别是多少？</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"><span class="keyword">using</span> std::string;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; v1;         <span class="comment">// size:0,  no values.</span></span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">v2</span><span class="params">(<span class="number">10</span>)</span></span>;     <span class="comment">// size:10, value:0</span></span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">v3</span><span class="params">(<span class="number">10</span>, <span class="number">42</span>)</span></span>; <span class="comment">// size:10, value:42</span></span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; v4{ <span class="number">10</span> };     <span class="comment">// size:1,  value:10</span></span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; v5{ <span class="number">10</span>, <span class="number">42</span> }; <span class="comment">// size:2,  value:10, 42</span></span><br><span class="line">    vector&lt;string&gt; v6{ <span class="number">10</span> };  <span class="comment">// size:10, value:""</span></span><br><span class="line">    vector&lt;string&gt; v7{ <span class="number">10</span>, <span class="string">"hi"</span> };  <span class="comment">// size:10, value:"hi"</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-314"><a class="markdownIt-Anchor" href="#exercise-314"></a> Exercise 3.14</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*   编写一段程序，用cin读入一组整数并把它们存入一个vector对象。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"><span class="keyword">using</span> std::string;</span><br><span class="line"><span class="keyword">using</span> std::cin;</span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">using</span> std::endl;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; number;</span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    <span class="keyword">while</span>(cin&gt;&gt;i)</span><br><span class="line">        number.<span class="built_in">push_back</span>(i);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-315"><a class="markdownIt-Anchor" href="#exercise-315"></a> Exercise 3.15</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*   编写一段程序，用cin读入一组读入的字符串。</span></span><br><span class="line"><span class="comment">*   并把它们存入一个vector对象。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"><span class="keyword">using</span> std::string;</span><br><span class="line"><span class="keyword">using</span> std::cin;</span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">using</span> std::endl;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    vector&lt;string&gt; line;</span><br><span class="line">    string s;</span><br><span class="line">    <span class="keyword">while</span>(cin&gt;&gt;s){</span><br><span class="line">        line.<span class="built_in">push_back</span>(s);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-316"><a class="markdownIt-Anchor" href="#exercise-316"></a> Exercise 3.16</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*   编写一段程序，把练习3.13中vector对象的容量和具体内容输出出来</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"><span class="keyword">using</span> std::string;</span><br><span class="line"><span class="keyword">using</span> std::cin;</span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">using</span> std::endl;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; v1;         <span class="comment">// size:0,  no values.</span></span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">v2</span><span class="params">(<span class="number">10</span>)</span></span>;     <span class="comment">// size:10, value:0</span></span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">v3</span><span class="params">(<span class="number">10</span>, <span class="number">42</span>)</span></span>; <span class="comment">// size:10, value:42</span></span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; v4{ <span class="number">10</span> };     <span class="comment">// size:1,  value:10</span></span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; v5{ <span class="number">10</span>, <span class="number">42</span> }; <span class="comment">// size:2,  value:10, 42</span></span><br><span class="line">    vector&lt;string&gt; v6{ <span class="number">10</span> };  <span class="comment">// size:10, value:""</span></span><br><span class="line">    vector&lt;string&gt; v7{ <span class="number">10</span>, <span class="string">"hi"</span> };  <span class="comment">// size:10, value:"hi"</span></span><br><span class="line"></span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; X {v1, v2, v3, v4, v5};</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; X.<span class="built_in">size</span>();i++){</span><br><span class="line">        cout &lt;&lt; <span class="string">"v"</span>&lt;&lt;i+<span class="number">1</span>&lt;&lt;<span class="string">" "</span>&lt;&lt; <span class="string">"size :"</span> &lt;&lt; X[i].<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> n : X[i]){</span><br><span class="line">            cout &lt;&lt; n &lt;&lt; <span class="string">" "</span>&lt;&lt; endl;</span><br><span class="line">        }</span><br><span class="line">        cout &lt;&lt; endl&lt;&lt; endl;</span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    vector&lt;vector&lt;string&gt;&gt; Y {v6, v7};</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; Y.<span class="built_in">size</span>();i++){</span><br><span class="line">        cout &lt;&lt; <span class="string">"v"</span>&lt;&lt;i+<span class="number">6</span>&lt;&lt;<span class="string">" "</span>&lt;&lt; <span class="string">"size :"</span> &lt;&lt; Y[i].<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> m : Y[i]){</span><br><span class="line">            cout &lt;&lt; m &lt;&lt; <span class="string">" "</span>&lt;&lt; endl;</span><br><span class="line">        }</span><br><span class="line">        cout &lt;&lt; endl&lt;&lt; endl;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">v1 size :0</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">v2 size :10</span></span><br><span class="line"><span class="comment">0 0 0 0 0 0 0 0 0 0</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">v3 size :10</span></span><br><span class="line"><span class="comment">42 42 42 42 42 42 42 42 42 42</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">v4 size :1</span></span><br><span class="line"><span class="comment">10</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">v5 size :2</span></span><br><span class="line"><span class="comment">10 42</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">v1 size :10</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">v2 size :10</span></span><br><span class="line"><span class="comment">hi hi hi hi hi hi hi hi hi hi</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-317"><a class="markdownIt-Anchor" href="#exercise-317"></a> Exercise 3.17</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*   编写一段程序，用cin读入一组整数并把它们存入一个vector对象。</span></span><br><span class="line"><span class="comment">*   然后设法把所有词都改为大写形式。输出改变后的结果，每个词占一行。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cctype&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> std::cin;</span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">using</span> std::endl;</span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"><span class="keyword">using</span> std::string;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    vector&lt;string&gt; number;</span><br><span class="line">    string s;</span><br><span class="line">    <span class="keyword">while</span>(cin&gt;&gt;s){</span><br><span class="line">        number.<span class="built_in">push_back</span>(s);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;str:number){</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;c:str)</span><br><span class="line">            c = <span class="built_in">toupper</span>(c);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i : number)</span><br><span class="line">	{</span><br><span class="line">		cout &lt;&lt; i &lt;&lt; endl;</span><br><span class="line">	}</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    for (decltype(number.size()) i = 0; i != number.size(); ++i) {</span></span><br><span class="line"><span class="comment">        if (i != 0 &amp;&amp; i % 8 == 0) cout &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">        cout &lt;&lt; number[i] &lt;&lt; " ";</span></span><br><span class="line"><span class="comment">    }</span></span><br><span class="line"><span class="comment">    cout &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-318"><a class="markdownIt-Anchor" href="#exercise-318"></a> Exercise 3.18</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*   下面的程序合法吗？如果不合法，你准备如何修改？</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> std::cin;</span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">using</span> std::endl;</span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; ivec;</span><br><span class="line">    ivec[<span class="number">0</span>] = <span class="number">42</span>;      <span class="comment">// 错误 改为ivec.push_back(42);</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-319"><a class="markdownIt-Anchor" href="#exercise-319"></a> Exercise 3.19</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*   如果想定义一个含有10个元素的vector对象，所有元素的值都是42，</span></span><br><span class="line"><span class="comment">*  请例举三种不同的实现方法，哪种方式更好呢？</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> std::cin;</span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">using</span> std::endl;</span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">num1</span><span class="params">(<span class="number">10</span>,<span class="number">42</span>)</span></span>;    <span class="comment">// best way</span></span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; num2{<span class="number">42</span>, <span class="number">42</span>, <span class="number">42</span>, <span class="number">42</span>, <span class="number">42</span>, <span class="number">42</span>, <span class="number">42</span>, <span class="number">42</span>, <span class="number">42</span>, <span class="number">42</span>};</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; num;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">decltype</span>(num.<span class="built_in">size</span>()) i = <span class="number">0</span>; i != num.<span class="built_in">size</span>(); ++i){</span><br><span class="line">        num.<span class="built_in">push_back</span>(<span class="number">42</span>);</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-320"><a class="markdownIt-Anchor" href="#exercise-320"></a> Exercise 3.20</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*   读入一组整数并把他们存入一个vector对象，将每对相邻整数的和输出出来。</span></span><br><span class="line"><span class="comment">*   改写你的程序，这次要求先输出第一个和最后一个元素的和，</span></span><br><span class="line"><span class="comment">*   接着输入第二个和倒数第二个元素的和，以此类推。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> std::cin;</span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">using</span> std::endl;</span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"><span class="keyword">using</span> std::string;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; ivec;</span><br><span class="line">	<span class="type">int</span> i;</span><br><span class="line">	<span class="keyword">while</span> (cin &gt;&gt; i)	</span><br><span class="line">		ivec.<span class="built_in">push_back</span>(i);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; ivec.<span class="built_in">size</span>() - <span class="number">1</span>; ++i)	</span><br><span class="line">		cout &lt;&lt; ivec[i] + ivec[i + <span class="number">1</span>] &lt;&lt; endl;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//---------------------------------</span></span><br><span class="line">	cout &lt;&lt; <span class="string">"---------------------------------"</span> &lt;&lt; endl;</span><br><span class="line">	</span><br><span class="line">	<span class="type">int</span> m = <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> n = ivec.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">while</span> (m &lt; n)</span><br><span class="line">	{</span><br><span class="line">		cout &lt;&lt; ivec[m] + ivec[n] &lt;&lt; endl;</span><br><span class="line">		++m;</span><br><span class="line">		--n;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-321-0"><a class="markdownIt-Anchor" href="#exercise-321-0"></a> Exercise 3.21-0</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*    请使用迭代器重做3.3.3节的第一个练习。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> std::cin;</span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">using</span> std::endl;</span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"><span class="keyword">using</span> std::string;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; v1;         <span class="comment">// size:0,  no values.</span></span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">v2</span><span class="params">(<span class="number">10</span>)</span></span>;     <span class="comment">// size:10, value:0</span></span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">v3</span><span class="params">(<span class="number">10</span>, <span class="number">42</span>)</span></span>; <span class="comment">// size:10, value:42</span></span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; v4{ <span class="number">10</span> };     <span class="comment">// size:1,  value:10</span></span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; v5{ <span class="number">10</span>, <span class="number">42</span> }; <span class="comment">// size:2,  value:10, 42</span></span><br><span class="line">    vector&lt;string&gt; v6{ <span class="number">10</span> };  <span class="comment">// size:10, value:""</span></span><br><span class="line">    vector&lt;string&gt; v7{ <span class="number">10</span>, <span class="string">"hi"</span> };  <span class="comment">// size:10, value:"hi"</span></span><br><span class="line"></span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; X {v1, v2, v3, v4, v5};</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;::const_iterator it;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">decltype</span>(X.<span class="built_in">size</span>()) i = <span class="number">0</span>; i != X.<span class="built_in">size</span>(); ++i) {</span><br><span class="line">        cout &lt;&lt; <span class="string">"v"</span>&lt;&lt;i+<span class="number">1</span>&lt;&lt;<span class="string">" "</span>&lt;&lt; <span class="string">"size :"</span> &lt;&lt; X[i].<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> it = X[i].<span class="built_in">cbegin</span>(); it !=X[i].<span class="built_in">cend</span>(); ++it){</span><br><span class="line">            cout &lt;&lt; (*it) &lt;&lt; <span class="string">" "</span>&lt;&lt; endl;</span><br><span class="line">        }</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    vector&lt;vector&lt;string&gt;&gt; Y {v6, v7};</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;::const_iterator its;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">decltype</span>(Y.<span class="built_in">size</span>()) i = <span class="number">0</span>; i != Y.<span class="built_in">size</span>(); ++i){</span><br><span class="line">        cout &lt;&lt; <span class="string">"v"</span>&lt;&lt;i+<span class="number">6</span>&lt;&lt;<span class="string">" "</span>&lt;&lt; <span class="string">"size :"</span> &lt;&lt; Y[i].<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> its = Y[i].<span class="built_in">cbegin</span>(); its!=Y[i].<span class="built_in">cend</span>(); ++its){</span><br><span class="line">            cout &lt;&lt; (*its) &lt;&lt; <span class="string">" "</span>&lt;&lt; endl;</span><br><span class="line">        }</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-321-1"><a class="markdownIt-Anchor" href="#exercise-321-1"></a> Exercise 3.21-1</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iterator&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"><span class="keyword">using</span> std::string;</span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">using</span> std::endl;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">check_and_print</span><span class="params">(<span class="type">const</span> vector&lt;<span class="type">int</span>&gt;&amp; vec)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	cout &lt;&lt; <span class="string">"size: "</span> &lt;&lt; vec.<span class="built_in">size</span>() &lt;&lt; <span class="string">"  content: ["</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">auto</span> it = vec.<span class="built_in">begin</span>(); it != vec.<span class="built_in">end</span>(); ++it)</span><br><span class="line">		cout &lt;&lt; *it &lt;&lt; (it != vec.<span class="built_in">end</span>() - <span class="number">1</span> ? <span class="string">","</span> : <span class="string">""</span>);</span><br><span class="line">	cout &lt;&lt; <span class="string">"]\n"</span> &lt;&lt; endl;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">check_and_print</span><span class="params">(<span class="type">const</span> vector&lt;string&gt;&amp; vec)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">"size: "</span> &lt;&lt; vec.<span class="built_in">size</span>() &lt;&lt; <span class="string">"  content: ["</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">auto</span> it = vec.<span class="built_in">begin</span>(); it != vec.<span class="built_in">end</span>(); ++it)</span><br><span class="line">		cout &lt;&lt; *it &lt;&lt; (it != vec.<span class="built_in">end</span>() - <span class="number">1</span> ? <span class="string">","</span> : <span class="string">""</span>);</span><br><span class="line">	cout &lt;&lt; <span class="string">"]\n"</span> &lt;&lt; endl;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v1;</span><br><span class="line">	<span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">v2</span><span class="params">(<span class="number">10</span>)</span></span>;</span><br><span class="line">	<span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">v3</span><span class="params">(<span class="number">10</span>, <span class="number">42</span>)</span></span>;</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v4{ <span class="number">10</span> };</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; v5{ <span class="number">10</span>, <span class="number">42</span> };</span><br><span class="line">	vector&lt;string&gt; v6{ <span class="number">10</span> };</span><br><span class="line">	vector&lt;string&gt; v7{ <span class="number">10</span>, <span class="string">"hi"</span> };</span><br><span class="line"></span><br><span class="line">	<span class="built_in">check_and_print</span>(v1);</span><br><span class="line">	<span class="built_in">check_and_print</span>(v2);</span><br><span class="line">	<span class="built_in">check_and_print</span>(v3);</span><br><span class="line">	<span class="built_in">check_and_print</span>(v4);</span><br><span class="line">	<span class="built_in">check_and_print</span>(v5);</span><br><span class="line">	<span class="built_in">check_and_print</span>(v6);</span><br><span class="line">	<span class="built_in">check_and_print</span>(v7);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-321-2"><a class="markdownIt-Anchor" href="#exercise-321-2"></a> Exercise 3.21-2</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iterator&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"><span class="keyword">using</span> std::string;</span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">using</span> std::endl;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">check</span><span class="params">(<span class="type">const</span> vector&lt;<span class="type">int</span>&gt;&amp; vec)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">if</span> (vec.<span class="built_in">empty</span>())</span><br><span class="line">        cout &lt;&lt; <span class="string">"size: 0; no values."</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">else</span> {</span><br><span class="line">        cout &lt;&lt; <span class="string">"size: "</span> &lt;&lt; vec.<span class="built_in">size</span>() &lt;&lt; <span class="string">"; values:"</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> it = vec.<span class="built_in">begin</span>(); it != vec.<span class="built_in">end</span>(); ++it) cout &lt;&lt; *it &lt;&lt; <span class="string">","</span>;</span><br><span class="line">        cout &lt;&lt; <span class="string">"\b."</span> &lt;&lt; endl;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">check</span><span class="params">(<span class="type">const</span> vector&lt;string&gt;&amp; vec)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">if</span> (vec.<span class="built_in">empty</span>())</span><br><span class="line">        cout &lt;&lt; <span class="string">"size: 0; no values."</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">else</span> {</span><br><span class="line">        cout &lt;&lt; <span class="string">"size: "</span> &lt;&lt; vec.<span class="built_in">size</span>() &lt;&lt; <span class="string">"; values:"</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> it = vec.<span class="built_in">begin</span>(); it != vec.<span class="built_in">end</span>(); ++it)</span><br><span class="line">            <span class="keyword">if</span> (it-&gt;<span class="built_in">empty</span>())</span><br><span class="line">                cout &lt;&lt; <span class="string">"(null)"</span></span><br><span class="line">                     &lt;&lt; <span class="string">","</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                cout &lt;&lt; *it &lt;&lt; <span class="string">","</span>;</span><br><span class="line">        cout &lt;&lt; <span class="string">"\b."</span> &lt;&lt; endl;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; v1;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">v2</span><span class="params">(<span class="number">10</span>)</span></span>;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">v3</span><span class="params">(<span class="number">10</span>, <span class="number">42</span>)</span></span>;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; v4{<span class="number">10</span>};</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; v5{<span class="number">10</span>, <span class="number">42</span>};</span><br><span class="line">    vector&lt;string&gt; v6{<span class="number">10</span>};</span><br><span class="line">    vector&lt;string&gt; v7{<span class="number">10</span>, <span class="string">"hi"</span>};</span><br><span class="line"></span><br><span class="line">    <span class="built_in">check</span>(v1);</span><br><span class="line">    <span class="built_in">check</span>(v2);</span><br><span class="line">    <span class="built_in">check</span>(v3);</span><br><span class="line">    <span class="built_in">check</span>(v4);</span><br><span class="line">    <span class="built_in">check</span>(v5);</span><br><span class="line">    <span class="built_in">check</span>(v6);</span><br><span class="line">    <span class="built_in">check</span>(v7);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-322"><a class="markdownIt-Anchor" href="#exercise-322"></a> Exercise 3.22</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*   修改之前那个输出text第一段的程序，首先把text的第一段全部改成大写形式，然后输出它。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    vector&lt;string&gt; text;</span><br><span class="line">    <span class="comment">//vector&lt;string&gt;::iterator it;</span></span><br><span class="line">    text.<span class="built_in">push_back</span>(<span class="string">"this is a string"</span>);</span><br><span class="line">    text.<span class="built_in">push_back</span>(<span class="string">""</span>);     <span class="comment">//使用空字符串分割段落</span></span><br><span class="line">    text.<span class="built_in">push_back</span>(<span class="string">"this is another string"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> it = text.<span class="built_in">begin</span>(); it != text.<span class="built_in">end</span>() &amp;&amp; !it-&gt;<span class="built_in">empty</span>(); ++it){</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">auto</span> &amp;c : *it){</span><br><span class="line">			<span class="keyword">if</span> (<span class="built_in">isalpha</span>(c)) c = <span class="built_in">toupper</span>(c);</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> it : text){</span><br><span class="line">		cout &lt;&lt; it &lt;&lt; endl;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-323"><a class="markdownIt-Anchor" href="#exercise-323"></a> Exercise 3.23</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*   编写一段程序，创建一个含有10个整数的vector对象，</span></span><br><span class="line"><span class="comment">*   然后使用迭代器将所有元素的值都变成原来的两倍。</span></span><br><span class="line"><span class="comment">*   输出vector对象的内容，检验程序是否正确。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> std::cin;</span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">using</span> std::endl;</span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"><span class="keyword">using</span> std::string;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; num;</span><br><span class="line">    <span class="comment">//vector&lt;int&gt; num(10, 42);</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i = <span class="number">0</span>; i != <span class="number">10</span>;i++){</span><br><span class="line">         num.<span class="built_in">push_back</span>(i);          <span class="comment">// 先定义迭代器再使用范围for会导致迭代器失效</span></span><br><span class="line">    }</span><br><span class="line">    cout &lt;&lt; <span class="string">"the result is [ "</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// iterator way</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> it = num.<span class="built_in">begin</span>(); it != num.<span class="built_in">end</span>();it++){</span><br><span class="line">        *it *= <span class="number">2</span>;</span><br><span class="line">        cout &lt;&lt; (*it) &lt;&lt; <span class="string">" "</span>; </span><br><span class="line">    }</span><br><span class="line">    <span class="comment">// range for</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> &amp;it : num)</span><br><span class="line">	{</span><br><span class="line">		it = it * <span class="number">2</span>;</span><br><span class="line">		cout &lt;&lt; it &lt;&lt; endl;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt;<span class="string">" ]"</span>&lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-324"><a class="markdownIt-Anchor" href="#exercise-324"></a> Exercise 3.24</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*   读入一组整数并把他们存入一个vector对象，将每对相邻整数的和输出出来。</span></span><br><span class="line"><span class="comment">*   改写你的程序，这次要求先输出第一个和最后一个元素的和，</span></span><br><span class="line"><span class="comment">*   接着输入第二个和倒数第二个元素的和，以此类推。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">/*********  iterator way *************/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; ivec;</span><br><span class="line">	<span class="type">int</span> i;</span><br><span class="line">	<span class="comment">/*while (cin &gt;&gt; i)	</span></span><br><span class="line"><span class="comment">		ivec.push_back(i);</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i = <span class="number">0</span>; i != <span class="number">10</span>;++i){</span><br><span class="line">         ivec.<span class="built_in">push_back</span>(i);          <span class="comment">// 先定义迭代器再使用范围for会导致迭代器失效</span></span><br><span class="line">    }</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">auto</span> it = ivec.<span class="built_in">begin</span>(); it != ivec.<span class="built_in">end</span>()<span class="number">-1</span>; ++it)</span><br><span class="line">        cout &lt;&lt; (*it) + *(it+<span class="number">1</span>)&lt;&lt; <span class="string">" "</span>;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">"---------------------------------"</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">auto</span> it1 = ivec.<span class="built_in">begin</span>();</span><br><span class="line">	<span class="keyword">auto</span> it2 = ivec.<span class="built_in">end</span>() - <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">while</span> (it1 &lt; it2)</span><br><span class="line">	{</span><br><span class="line">		cout &lt;&lt; *it1 + *it2 &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">		++it1;</span><br><span class="line">		--it2;</span><br><span class="line">	}</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-325"><a class="markdownIt-Anchor" href="#exercise-325"></a> Exercise 3.25</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*   3.3.3节划分分数段的程序是使用下标运算符实现的，</span></span><br><span class="line"><span class="comment">*   请利用迭代器改写该程序实现完全相同的功能。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; ivec{<span class="number">42</span>,<span class="number">65</span>,<span class="number">95</span>,<span class="number">100</span>,<span class="number">39</span>,<span class="number">67</span>,<span class="number">95</span>,<span class="number">76</span>,<span class="number">88</span>,<span class="number">76</span>,<span class="number">83</span>,<span class="number">92</span>,<span class="number">76</span>,<span class="number">93</span>}; <span class="comment">// 列表初始化</span></span><br><span class="line">    <span class="function">vector&lt;<span class="type">unsigned</span>&gt; <span class="title">scores</span><span class="params">(<span class="number">11</span>, <span class="number">0</span>)</span></span>;</span><br><span class="line">    <span class="type">unsigned</span> garde;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*********  index way *************/</span></span><br><span class="line">    <span class="keyword">while</span> (cin&gt;&gt;garde){</span><br><span class="line">        <span class="keyword">if</span>(garde&lt;=<span class="number">100</span>)</span><br><span class="line">            ++scores[garde / <span class="number">10</span>];</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"><span class="comment">/*********  iterator way *************/</span></span><br><span class="line">    <span class="keyword">while</span> (cin &gt;&gt; garde)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">if</span> (garde &lt;= <span class="number">100</span>)</span><br><span class="line">			++*(scores.<span class="built_in">begin</span>() + garde / <span class="number">10</span>);</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">auto</span> s : scores)</span><br><span class="line">		cout &lt;&lt; s &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-326"><a class="markdownIt-Anchor" href="#exercise-326"></a> Exercise 3.26</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*   在100页的二分搜索程序中，为什么用的是 mid = beg + (end - beg) / 2, </span></span><br><span class="line"><span class="comment">*   而非 mid = (beg + end) / 2 ; ?</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">*   因为迭代器支持的运算只有 - ，而没有 + 。end - beg 意思是相距若干个元素，</span></span><br><span class="line"><span class="comment">*   将之除以2然后与beg相加，表示将beg移动到一半的位置。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    vector&lt;string&gt; text;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// text must be sorted</span></span><br><span class="line">    <span class="comment">// beg and end will denote the range we're searching</span></span><br><span class="line">    <span class="keyword">auto</span> beg = text.<span class="built_in">begin</span>(), end = text.<span class="built_in">end</span>();</span><br><span class="line">    <span class="keyword">auto</span> mid = text.<span class="built_in">begin</span>() + (end - beg)/<span class="number">2</span>;        <span class="comment">// original midpoint</span></span><br><span class="line">    <span class="comment">// while there are still elements to look at and we haven't yet found sought</span></span><br><span class="line">    <span class="keyword">while</span> (mid != end &amp;&amp; *mid != <span class="string">"sought"</span>) {</span><br><span class="line">        <span class="keyword">if</span> (<span class="string">"sought"</span> &lt; *mid)  <span class="comment">// is the element we want in the first half?</span></span><br><span class="line">            end = mid;      <span class="comment">// if so, adjust the range to ignore the secondhalf</span></span><br><span class="line">        <span class="keyword">else</span>                <span class="comment">// the element we want is in the second half</span></span><br><span class="line">            beg = mid + <span class="number">1</span>;  <span class="comment">// start looking with the element just after mid</span></span><br><span class="line">        mid = beg + (end - beg)/<span class="number">2</span>; <span class="comment">// new midpoint</span></span><br><span class="line">}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-327"><a class="markdownIt-Anchor" href="#exercise-327"></a> Exercise 3.27</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//假设txt_size 是一个无参函数，它的返回值是int。请回答下列哪个定义是非法的，为什么？</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">unsigned</span> buf_size = <span class="number">1024</span>;</span><br><span class="line"><span class="comment">//    int ia[buf_size];</span></span><br><span class="line"><span class="comment">//    int ia[4 * 7 - 14];</span></span><br><span class="line"><span class="comment">//    int ia[txt_size()];</span></span><br><span class="line"><span class="comment">//    char st[11] = "fundamental";</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    (a) 非法。纬度必须是一个常量表达式。</span></span><br><span class="line"><span class="comment">    (b) 合法。</span></span><br><span class="line"><span class="comment">    (c) 非法。txt_size() 的值必须要到运行时才能得到。</span></span><br><span class="line"><span class="comment">    (d) 非法。数组的大小应该是12。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-328"><a class="markdownIt-Anchor" href="#exercise-328"></a> Exercise 3.28</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//下列数组中元素的值是什么？</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    string sa[<span class="number">10</span>];</span><br><span class="line">    <span class="type">int</span> ia[<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line">	string sa2[<span class="number">10</span>];</span><br><span class="line">	<span class="type">int</span> ia2[<span class="number">10</span>];</span><br><span class="line">}</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*   数组的元素会被默认初始化。</span></span><br><span class="line"><span class="comment">*   sa 的元素值全部为空字符串，ia 的元素值全部为0。</span></span><br><span class="line"><span class="comment">    sa2 的元素值全部为空字符串，ia2 的元素值全部未定义。</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-329"><a class="markdownIt-Anchor" href="#exercise-329"></a> Exercise 3.29</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    相比于vector 来说，数组有哪些缺点，请例举一些。</span></span><br><span class="line"><span class="comment">    数组的大小是确定的。</span></span><br><span class="line"><span class="comment">    不能随意增加元素</span></span><br><span class="line"><span class="comment">    不允许拷贝和赋值</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-330"><a class="markdownIt-Anchor" href="#exercise-330"></a> Exercise 3.30</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">constexpr</span> <span class="type">size_t</span> array_size = <span class="number">10</span>;</span><br><span class="line">    <span class="type">int</span> ia[array_size];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">size_t</span> ix = <span class="number">1</span>; ix &lt;= array_size; ++ix)</span><br><span class="line">    ia[ix] = ix;    <span class="comment">//当 ix 增长到 10 的时候，ia[ix] 的下标越界。</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-331"><a class="markdownIt-Anchor" href="#exercise-331"></a> Exercise 3.31</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    编写一段程序，定义一个含有10个int的数组，令</span></span><br><span class="line"><span class="comment">    每个元素的值就是其下标值。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">constexpr</span> <span class="type">size_t</span> array_size = <span class="number">10</span>;</span><br><span class="line">    <span class="type">int</span> array[array_size] = {};</span><br><span class="line">    <span class="type">int</span> num=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> i:array){</span><br><span class="line">        i = num++;</span><br><span class="line">        cout &lt;&lt; i &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-332"><a class="markdownIt-Anchor" href="#exercise-332"></a> Exercise 3.32</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    编写一段程序，定义一个含有10个int的数组，令</span></span><br><span class="line"><span class="comment">    每个元素的值就是其下标值。</span></span><br><span class="line"><span class="comment">    vector realization</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> std::cout; <span class="keyword">using</span> std::endl; <span class="keyword">using</span> std::vector;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="comment">// array</span></span><br><span class="line">	<span class="type">int</span> arr[<span class="number">10</span>];</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) arr[i] = i;</span><br><span class="line">	<span class="type">int</span> arr2[<span class="number">10</span>];</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) arr2[i] = arr[i];</span><br><span class="line"></span><br><span class="line">	<span class="comment">// vector</span></span><br><span class="line">	<span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">v</span><span class="params">(<span class="number">10</span>)</span></span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i != <span class="number">10</span>; ++i) v[i] = arr[i];</span><br><span class="line">	<span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">v2</span><span class="params">(v)</span></span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">auto</span> i : v2) cout &lt;&lt; i &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-333"><a class="markdownIt-Anchor" href="#exercise-333"></a> Exercise 3.33</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// 数组中所有元素的值将会未定义。</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-334"><a class="markdownIt-Anchor" href="#exercise-334"></a> Exercise 3.34</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//将 p1 移动到 p2 的位置。任何情况下都合法。</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-335"><a class="markdownIt-Anchor" href="#exercise-335"></a> Exercise 3.35</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">constexpr</span> <span class="type">size_t</span> array_size = <span class="number">10</span>;</span><br><span class="line">    <span class="type">int</span> array[array_size] = {<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>};</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> *p = array;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;i:array){</span><br><span class="line">        i = *p;</span><br><span class="line">        cout &lt;&lt; i &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-336"><a class="markdownIt-Anchor" href="#exercise-336"></a> Exercise 3.36</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iterator&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">compare</span><span class="params">(<span class="type">int</span>* <span class="type">const</span> pb1, <span class="type">int</span>* <span class="type">const</span> pe1, <span class="type">int</span>* <span class="type">const</span> pb2, <span class="type">int</span>* <span class="type">const</span> pe2)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">if</span> ((pe1 - pb1) != (pe2 - pb2)) </span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span>* i = pb1, *j = pb2; (i != pe1) &amp;&amp; (j != pe2); ++i, ++j)</span><br><span class="line">		<span class="keyword">if</span> (*i != *j) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="type">int</span> arr1[<span class="number">3</span>] = { <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span> };</span><br><span class="line">	<span class="type">int</span> arr2[<span class="number">3</span>] = { <span class="number">0</span>, <span class="number">2</span>, <span class="number">4</span> };</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (<span class="built_in">compare</span>(<span class="built_in">begin</span>(arr1), <span class="built_in">end</span>(arr1), <span class="built_in">begin</span>(arr2), <span class="built_in">end</span>(arr2)))</span><br><span class="line">		cout &lt;&lt; <span class="string">"The two arrays are equal."</span> &lt;&lt; endl;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		cout &lt;&lt; <span class="string">"The two arrays are not equal."</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">"=========="</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; vec1 = { <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span> };</span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; vec2 = { <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span> };</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (vec1 == vec2)</span><br><span class="line">		cout &lt;&lt; <span class="string">"The two vectors are equal."</span> &lt;&lt; endl;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		cout &lt;&lt; <span class="string">"The two vectors are not equal."</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-337"><a class="markdownIt-Anchor" href="#exercise-337"></a> Exercise 3.37</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// 下面的程序是何含义，程序的输出结果是什么？</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">const</span> <span class="type">char</span> ca[] = { <span class="string">'h'</span>, <span class="string">'e'</span>, <span class="string">'l'</span>, <span class="string">'l'</span>, <span class="string">'o'</span> };</span><br><span class="line">    <span class="type">const</span> <span class="type">char</span> *cp = ca;</span><br><span class="line">    <span class="keyword">while</span> (*cp) {</span><br><span class="line">        cout &lt;&lt; *cp &lt;&lt; endl;</span><br><span class="line">        ++cp;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//会将ca 字符数组中的元素打印出来。但是因为没有空字符的存在，程序不会退出循环。</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-338"><a class="markdownIt-Anchor" href="#exercise-338"></a> Exercise 3.38</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">在本节中我们提到，将两个指针相加不但是非法的，</span></span><br><span class="line"><span class="comment">而且也没有什么意义。请问为什么两个指针相加没有意义？</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">将两个指针相减可以表示两个指针(在同一数组中)相距的距离，</span></span><br><span class="line"><span class="comment">将指针加上一个整数也可以表示移动这个指针到某一位置。</span></span><br><span class="line"><span class="comment">但是两个指针相加并没有逻辑上的意义，因此两个指针不能相加。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-339"><a class="markdownIt-Anchor" href="#exercise-339"></a> Exercise 3.39</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="function">string <span class="title">string1</span><span class="params">(<span class="string">"this is a string"</span>)</span></span>;</span><br><span class="line">    <span class="function">string <span class="title">string2</span><span class="params">(<span class="string">"this is a string"</span>)</span></span>;</span><br><span class="line">    <span class="keyword">if</span>(string1==string2)</span><br><span class="line">        cout &lt;&lt; <span class="string">"two string is equal"</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        cout &lt;&lt; <span class="string">"two string is not equal"</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="type">const</span> <span class="type">char</span> str1[] = {<span class="string">'C'</span>, <span class="string">'+'</span>, <span class="string">'+'</span>};</span><br><span class="line">    <span class="type">const</span> <span class="type">char</span> str2[] = {<span class="string">'J'</span>, <span class="string">'a'</span>, <span class="string">'v'</span>,<span class="string">'a'</span>};</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">strcmp</span>(str1,str2)==<span class="number">0</span>) </span><br><span class="line">        cout &lt;&lt; <span class="string">"two string is equal"</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        cout &lt;&lt; <span class="string">"two string is not equal"</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-340"><a class="markdownIt-Anchor" href="#exercise-340"></a> Exercise 3.40</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">using</span> std::endl;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">const</span> <span class="type">char</span> cstr1[] = <span class="string">"Hello"</span>;</span><br><span class="line">    <span class="type">const</span> <span class="type">char</span> cstr2[] = <span class="string">"world!"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">size_t</span> new_size = <span class="built_in">strlen</span>(cstr1) + <span class="built_in">strlen</span>(<span class="string">" "</span>) + <span class="built_in">strlen</span>(cstr2) + <span class="number">1</span>;</span><br><span class="line">    <span class="type">char</span>* cstr3 = <span class="keyword">new</span> <span class="type">char</span>[new_size];</span><br><span class="line"></span><br><span class="line">    <span class="built_in">strcpy</span>(cstr3, cstr1);</span><br><span class="line">    <span class="built_in">strcat</span>(cstr3, <span class="string">" "</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(cstr3, cstr2);</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; cstr3 &lt;&lt; std::endl;</span><br><span class="line">    <span class="keyword">delete</span> [] cstr3;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-341"><a class="markdownIt-Anchor" href="#exercise-341"></a> Exercise 3.41</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    编写一段程序，用整型数组初始化一个vector对象。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">int</span> array[] = {<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>};</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">number</span><span class="params">(begin(array),end(array))</span></span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">"the contents of number are: "</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> i:number){</span><br><span class="line">        cout &lt;&lt; i &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-342"><a class="markdownIt-Anchor" href="#exercise-342"></a> Exercise 3.42</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    编写一段程序，将含有整数元素的vector对象拷贝给一个整型数组。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">int</span> array[] = {<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>};</span><br><span class="line"></span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">num</span><span class="params">(<span class="number">10</span>,<span class="number">0</span>)</span></span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>;i!=num.<span class="built_in">size</span>();i++){</span><br><span class="line">        *(array + i) = num[i];</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i : array){</span><br><span class="line">         cout &lt;&lt; i &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-343"><a class="markdownIt-Anchor" href="#exercise-343"></a> Exercise 3.43</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">    编写3个不同版本的程序，令其均能输出ia的元素。</span></span><br><span class="line"><span class="comment">    版本1使用范围for语句管理迭代过程；</span></span><br><span class="line"><span class="comment">    版本2和版本3都使用普通for语句，其中版本2要求使用下标运算符，</span></span><br><span class="line"><span class="comment">    版本3要求使用指针。此外，在所有3个版本的程序中都要直接写出数据类型，</span></span><br><span class="line"><span class="comment">    而不能使用类型别名、auto关键字和decltype关键字。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> std::cout; <span class="keyword">using</span> std::endl;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">int</span> arr[<span class="number">3</span>][<span class="number">4</span>] = </span><br><span class="line">    { </span><br><span class="line">        { <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span> },</span><br><span class="line">        { <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span> },</span><br><span class="line">        { <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span> }</span><br><span class="line">    };</span><br><span class="line"></span><br><span class="line">    <span class="comment">// range for</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">const</span> <span class="built_in">int</span>(&amp;row)[<span class="number">4</span>] : arr)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> col : row) cout &lt;&lt; col &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// for loop</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">size_t</span> i = <span class="number">0</span>; i != <span class="number">3</span>; ++i)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">size_t</span> j = <span class="number">0</span>; j != <span class="number">4</span>; ++j) cout &lt;&lt; arr[i][j] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// using pointers.</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span>(*row)[<span class="number">4</span>] = arr; row != arr + <span class="number">3</span>; ++row)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> *col = *row; col != *row + <span class="number">4</span>; ++col) cout &lt;&lt; *col &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-344"><a class="markdownIt-Anchor" href="#exercise-344"></a> Exercise 3.44</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//改写上一个练习中的程序，使用类型别名来代替循环控制变量的类型。</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> std::cout; <span class="keyword">using</span> std::endl;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">int</span> ia[<span class="number">3</span>][<span class="number">4</span>] = { <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span> };</span><br><span class="line"></span><br><span class="line">    <span class="comment">// a range for to manage the iteration</span></span><br><span class="line">    <span class="comment">// use type alias</span></span><br><span class="line">    <span class="keyword">using</span> int_array = <span class="type">int</span>[<span class="number">4</span>];</span><br><span class="line">    <span class="keyword">for</span> (int_array&amp; p : ia)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> q : p)</span><br><span class="line">            cout &lt;&lt; q &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ordinary for loop using subscripts</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">size_t</span> i = <span class="number">0</span>; i != <span class="number">3</span>; ++i)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">size_t</span> j = <span class="number">0</span>; j != <span class="number">4</span>; ++j)</span><br><span class="line">            cout &lt;&lt; ia[i][j] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// using pointers.</span></span><br><span class="line">    <span class="comment">// use type alias</span></span><br><span class="line">    <span class="keyword">for</span> (int_array* p = ia; p != ia + <span class="number">3</span>; ++p)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> *q = *p; q != *p + <span class="number">4</span>; ++q)</span><br><span class="line">            cout &lt;&lt; *q &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="exercise-345"><a class="markdownIt-Anchor" href="#exercise-345"></a> Exercise 3.45</h2>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//再一次改写程序，这次使用auto关键字。</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> std::cout; <span class="keyword">using</span> std::endl;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="type">int</span> ia[<span class="number">3</span>][<span class="number">4</span>] = { <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span> };</span><br><span class="line"></span><br><span class="line">    <span class="comment">// a range for to manage the iteration</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; p : ia)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> q : p)</span><br><span class="line">            cout &lt;&lt; q &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ordinary for loop using subscripts</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">size_t</span> i = <span class="number">0</span>; i != <span class="number">3</span>; ++i)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">size_t</span> j = <span class="number">0</span>; j != <span class="number">4</span>; ++j)</span><br><span class="line">            cout &lt;&lt; ia[i][j] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// using pointers.</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> p = ia; p != ia + <span class="number">3</span>; ++p)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> *q = *p; q != *p + <span class="number">4</span>; ++q)</span><br><span class="line">            cout &lt;&lt; *q &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
	  <div class="article-footer-copyright">

    本博客采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议(CC BY-NC-SA 4.0) 发布.</a>
</div>

	</div>

	
	<span id="/posts/a5.html" class="leancloud-visitors view" data-flag-title="Exercise of chapter 3">
		<em class="post-meta-item-text"> Page View </em> <i class="leancloud-visitors-count"></i>
	</span>
	
	<div>
  	<center>

	<div class="pagination">

    
    
    <a href="/posts/87ea.html" type="button" class="btn btn-default"><i
                class="fa fa-arrow-circle-o-left"></i> 上一页</a>
    

    <a href="/" type="button" class="btn btn-default"><i class="fa fa-home"></i>Home</a>
    
    <a href="/posts/1d50.html" type="button" class="btn btn-default ">下一页<i
                class="fa fa-arrow-circle-o-right"></i></a>
    

    
</div>


    </center>
	</div>
	
	<!-- comment -->
	<!--
<section id="comment">
    <h2 class="title">留言</h2>

    
</section>

-->
	
		<section id="comments" class="comments">
			<style>
			.comments{margin:30px;padding:10px;background:rgb(0, 0, 0)}
			@media screen and (max-width:800px){.comments{margin:auto;padding:10px;background:#000}}
			</style>
			<div id="vcomment" class="comment"></div>
<script src='//unpkg.com/valine/dist/Valine.min.js'></script>
<script src="https://cdnjs.loli.net/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script>
var valineConfig = {"enable":true,"appId":"AA9eNAftQgfjEcK3l0j71rDS-gzGzoHsz","appKey":"E1r06kyXdl3RxWbXxaUQ6tPg","placeholder":"提交评论时留下邮箱收到回复后将自动通知","visitor":true,"avatar":"monsterid","requiredFields":["nick","mail"]}
valineConfig.el='#vcomment';
new Valine(valineConfig);
    // new Valine({
    //     el: '#vcomment',
    //     appId: "",
    //     appKey: "",
    //     placeholder: "提交评论时留下邮箱收到回复后将自动通知",
    //     avatar:"monsterid",
    //     visitor: "true",
    //     requiredFields: "nick,mail".split(','),
    // });
</script>

		</section>
	
	</div> <!-- col-md-9/col-md-12 -->


	
	<div id="side_meta">
		<div class="col-md-3" id="post_meta"> 

	<!-- date -->
	
	<div class="meta-widget">
	<i class="fa fa-clock-o"></i>
	2020-04-04 
	</div>
	

	<!-- categories -->
    
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#categorys"><i class="fa fa-folder"></i></a>	
    <ul id="categorys" class="tag_box list-unstyled collapse in">
          
  <li>
    <li><a href="/categories/language/">language<span>13</span></a></li>
  </li>

    </ul>
	</div>
	

	<!-- tags -->
	
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#tags"><i class="fa fa-tags"></i></a>		  
    <ul id="tags" class="tag_box list-unstyled collapse in">	  
	    
  <li><a href="/tags/C/">C++<span>12</span></a></li>
    </ul>
	</div>
		

	<!-- toc -->
	<div class="meta-widget">
	
	</div>
	
    <hr>
	
</div><!-- col-md-3 -->

		

	</div>
	
		

</div><!-- row -->

<!--
 -->



	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  
  &copy; 2022 Heisenberg Lee's Blog
  
      powered by <a href="http://hexo.io/" target="_blank">Hexo</a>.Theme <a href="https://github.com/Ares-X/hexo-theme-freemind.bithack" target="_blank">freemind.bithack</a>  
</p>
 </footer>
</div> <!-- container-narrow -->
  


  
<a id="gotop" href="#">   
  <span>⬆︎TOP</span>
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>


        <script src="//cdn.jsdelivr.net/npm/js-base64/base64.min.js"></script>
        <script>
        $('a').each(function() {
          const $this = $(this);
          const href = $this.attr('href');
          if (href && href.match('^((http|https|thunder|qqdl|ed2k|Flashget|qbrowser|ftp|rtsp|mms)://)')) {
            const strs = href.split('/');
            if (strs.length >= 3) {
                const host = strs[2];
                if (host !== 'tlhg.top' || window.location.host) {
                    $this.attr('href', '/go.html?u='+Base64.encode(href)+'').attr('rel', 'external nofollow noopener noreferrer');
                    if (true) {
                        $this.attr('target', '_blank');
                    }
                }
            }
          }
        });
        </script></body>
   </html>
