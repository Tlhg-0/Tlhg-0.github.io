<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="pragma" content="no-cache">
  <meta http-equiv="cache-control" content="no-cache">
  <meta http-equiv="expires" content="0">
  
  <title>Hexo+github搭建博客 | tlhg&#39;s Blog|</title>
  <meta name="author" content="Heisenberg Lee">
  
  <meta name="description" content="学习记录。">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="Hexo+github搭建博客"/>
  <meta property="og:site_name" content="tlhg&#39;s Blog|"/>

  
    <meta property="og:image" content="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200529171322.jpg" />
  

  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  
  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-70812759-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-70812759-1');
</script>






<meta name="generator" content="Hexo 5.4.2"><link rel="alternate" href="/atom.xml" title="tlhg's Blog|" type="application/atom+xml">
</head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/">tlhg&#39;s Blog|</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class=""></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/categories" title="All the categories.">
			  <i class=""></i>Categories
			</a>
		  </li>
		  
		  <li>
			<a href="/tags" title="All the tags.">
			  <i class=""></i>Tags
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class=""></i>About
			</a>
		  </li>
		  
		  <li>
			<a href="/atom.xml" title="Subscribe me.">
			  <i class=""></i>RSS
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 


	
		<div class="page-header">
			<h1> Hexo+github搭建博客</h1>
		</div>
	



<div class="row post">
	<!-- cols -->
	
	<div id="top_meta"></div>
	<div class="col-md-9">
	

	<!-- content -->
	<div class="mypage">		
	  		

	  <p>转载此文章前，请先联系作者，经作者同意后再转载，并请注明原文链接和作者，整理这些不容易，最终版权归作者所有，谢谢合作！</p>
<p>你了解Hexo吗？ Hexo是一个静态博客框架，基于Node.js，将Markdown文章通过渲染引擎，生成一个静态网页，再结合Git命令（ssh），Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用 Markdown（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。</p>
<p>几个月前偶然间了解到了Hexo这个静态博客网站，很适合那些喜欢写作的朋友们，最重要的是它是免费的，里面有许多的博客主题模板，这些主题都是一些很牛的大佬们开发的，而且设计的主题都很棒，让我很心动，心动不如行动，于是开始整理搭建属于自己的博客。直到今天，这中间经历了许多的坎坷荆棘，我将我的博客搭建的流程分享出来，能为那些博客小石榴们提供一些帮助吧，如果有错的话，请给我留言，我会及时修改，废话不多说，直接上教程。</p>
<blockquote>
<p>如果下面的教程有错误之处，请在评论区留言，收到后，我会尽快修改，谢谢支持！</p>
</blockquote>
<h2 id="一-博客环境搭建"><a class="markdownIt-Anchor" href="#一-博客环境搭建"></a> 一、博客环境搭建</h2>
<blockquote>
<p>本文系统环境信息：Win10专业版，64位（10.0 版本18362）</p>
<p>Node.js：12.13.0 Git：2.24.0</p>
<p>修改配置文件要用到的软件（可选）：</p>
<ul>
<li>Visual Studio Code（适合有开发基础的程序员，非常好用）</li>
<li>Sublime Text3，可免费使用。</li>
<li>NodePad++ 7.8.1（最新的，也可以在官网选择其他版本）</li>
</ul>
</blockquote>
<h3 id="1下载git和nodejs"><a class="markdownIt-Anchor" href="#1下载git和nodejs"></a> 1.下载Git和Node.js</h3>
<h4 id="11-nodejs的安装与配置"><a class="markdownIt-Anchor" href="#11-nodejs的安装与配置"></a> 1.1 Node.js的安装与配置</h4>
<p>首先去<a target="_blank" rel="noopener" href="https://nodejs.org/en/download/">Node.js官网 </a>下载node.js的安装程序，根据你电脑系统的配置信息，下载对应的安装程序，然后开始进行下面的步骤。</p>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604161523.png" alt="Node.js下载以及版本的选择"></p>
<p>下载好与电脑系统对应的安装程序后，开始安装流程：</p>
<ol>
<li>打开下载好的Node.js安装程序，点击Next，进行下一步的安装；</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604162048.png" alt=""></p>
<ol start="2">
<li>将”I accept the terms in the License Agreement”前面的复选框勾选，同意安装协议，再点击Next，进行下一步操作；</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604162324.png" alt="node-2"></p>
<ol start="3">
<li>选择Node.js安装程序的安装位置，在这里我以”C:\Program Files\nodejs”为例，点击Next，进入下一步操作；</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604162347.png" alt="node-3"></p>
<ol start="4">
<li>选择安装的模块和功能，这里全部安装，并添加到系统环境变量 ，继续点击Next，进入下一步操作；</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604162428.png" alt="node-4"></p>
<ol start="5">
<li>这一步可以跳过，这个选项的意思是安装一些编译本地模块的工具，比如python，C/C++等，点击Next，进入下一步；</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604162517.png" alt="node-5"></p>
<ol start="6">
<li>点击”Install”，等待Node.js安装完成；</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604162541.png" alt="node-6"></p>
<ol start="7">
<li>当看到下图所显示的情况，Node.js就成功安装完毕。</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604162601.png" alt="node-7"></p>
<ol start="8">
<li>验证安装，并测试Node.js是否加入环境变量，当出现如下图的情况，Node.js安装大功告成。</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604163219.png" alt=""></p>
<p>如果执行<strong>node -v</strong>报错的话，那么手动将Node.js的安装路径添加到环境变量中，右击点击我的电脑 -&gt;属性 -&gt; 高级系统设置 -&gt; 环境变量，在系统变量下找到名为path的变量名，如下图：</p>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604164051.png" alt=""></p>
<p>选中path，或者双击，然后将你node.js的安装路径放在path变量值的最后面，如果添加之前path值最后有 英文的分号，则直接将路径添加进去即可，如果没有，先添加分号，然后点击保存，回到桌面，打开cmd（Win+R），执行node -v，看是否成功。</p>
<ol start="9">
<li>设置npm的镜像源：</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># 查看npm的配置</span><br><span class="line">npm config list</span><br><span class="line"># 默认源</span><br><span class="line">npm config set registry https://registry.npmjs.org</span><br><span class="line"># 临时改变镜像源</span><br><span class="line">npm --registry=https://registry.npm.taobao.org</span><br><span class="line"># 永久设置为淘宝镜像源</span><br><span class="line">npm config set registry https://registry.npm.taobao.org</span><br><span class="line"># 另一种方式，编辑 ~/.npmrc 加入下面内容</span><br><span class="line">registry = https://registry.npm.taobao.org</span><br></pre></td></tr></tbody></table></figure>
<ol start="10">
<li>
<p>设置npm的内置路径——&gt;全局模块路径和缓存路径（可选）</p>
<p>如果不改变内置路径也可，除非你的C盘空间足够bigger，这一步可以略过，不改变的话，它的路径在：</p>
</li>
</ol>
<blockquote>
<p>此处参考：jyjin的node环境变量配置，npm环境变量配置</p>
</blockquote>
<ul>
<li>npm包全局目录：</li>
</ul>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">C:/Users/[username]/AppData/Roaming/npm/node_modules</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>npm包全局命令目录：</li>
</ul>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">C:/Users/[username]/AppData/Roaming/npm</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>
<p>npm实际去找全局命令的目录：C:/Users/[username]/.npmrc 文件内容的prefix值</p>
</li>
<li>
<p>npm包全局cache目录：C:/Users/[username]/.npmrc 文件内容的cache值</p>
<p>首先在你Node.js的安装位置，新建两个文件夹，node_global和node_cache，我的路径是：</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">C:\Program Files\nodejs\node_global</span><br><span class="line">C:\Program Files\nodejs\node_cache</span><br></pre></td></tr></tbody></table></figure>
<p>然后分别执行的命令就是：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">npm config set prefix"C:\Program Files\nodejs\node_global"</span><br><span class="line">npm config set cache "C:\Program Files\nodejs\node_cache"</span><br></pre></td></tr></tbody></table></figure>
<p>然后在配置环境变量，右击我的电脑 -&gt;属性 -&gt; 高级系统设置 -&gt; 环境变量同样的位置，在用户变量的地方，找到path变量进行修改，修改值如下图：</p>
<p><img src="dn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604165230.png" alt="修改环境变量"></p>
<p>然后就大功告成了，Node.js就安装完毕了，下面开始Git安装。👇👇👇</p>
<h3 id="12-git的安装与配置"><a class="markdownIt-Anchor" href="#12-git的安装与配置"></a> 1.2 Git的安装与配置</h3>
<p>首先就是去<a target="_blank" rel="noopener" href="https://git-scm.com/">Git官网</a>Git，根据你电脑系统的配置信息，下载对应的安装程序，然后开始进行下面的步骤。</p>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604165831.png" alt=""></p>
<ol>
<li>Git的安装包，开始安装，打开安装包，出现如图的界面，点击Next：</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604170117.png" alt=""></p>
<ol start="2">
<li>选择你要安装的位置，我以C盘为例，路径为图中所示，安装到其他位置的话，点击Browse，选择你要安装的位置，然后点击Next，进入下一步：</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604170241.png" alt=""></p>
<ol start="3">
<li>选择你是否创建桌面快捷放方式，其他默认即可，点击Next，进入下一步：</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604170513.png" alt=""></p>
<ol start="4">
<li>是否将Git快捷方式的目录加入开是菜单栏</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604170556.png" alt=""></p>
<ol start="5">
<li>这个是选择文本编辑器的方式，默认是Vim，也可以选择其他的方式，自主选择，在这里我选择的Vim默认方式。选择好文本编辑器的方式后，点击Next，进入下一个流程：</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604170635.png" alt=""></p>
<ol start="6">
<li>选择安装 Git 时对环境变量PATH的影响，第一种影响较小，第三种会影响到Windows的自带工具，默认勾选中间项，建议不要修改，直接点击 “Next” 继续安装：</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604170819.png" alt=""></p>
<ol start="7">
<li>选择 Git 在使用 HTTPS 时使用的库，若无特殊需求，可保持默认选项，点击 “Next” 继续安装：</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604170859.png" alt=""></p>
<ol start="8">
<li>选择提交与拉取记录时，对换行符的处理方式，若无特殊需要，默认选择即可，点击 “Next” 继续安装：</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604171147.png" alt=""></p>
<ol start="9">
<li>选择模拟终端软件（即命令行窗口软件），若无特殊需要，可默认选择，点击 “Next” 继续安装：</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604171349.png" alt=""></p>
<ol start="10">
<li>最新功能的询问，若不想尝试尚未保证稳定性的新功能，默认不勾选，点击 “Install” 即可完成安装：</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604171614.png" alt=""></p>
<ol start="11">
<li>安装完成</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604171703.png" alt=""></p>
<ol start="12">
<li>回到桌面，点击鼠标右键，会出现两个选项<strong>Git GUI Here</strong>和<strong>Git Bash Here</strong>，在打开Cmd(Win+R)，分别输入<strong>git</strong>和<strong>git --version</strong>，如果出现如下图的情况，即安装成功！</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604171914.png" alt=""></p>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604172330.png" alt=""></p>
<h2 id="二-github注册以及github-pages创建"><a class="markdownIt-Anchor" href="#二-github注册以及github-pages创建"></a> 二、Github注册以及Github Pages创建</h2>
<ol>
<li>打开Github官网首页，点击右上角的Sign Up ，然后在出现的页面上填写你的相关信息，进行注册：</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604172648.png" alt=""></p>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604173057.png" alt=""></p>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604173102.png" alt=""></p>
<p>验证完成后，点击Next：Select a plan，会出现如上图的验证界面，同理，只需要将其中的动物调整为正向显示即可。接着会出现下图的界面，选择Free，下方的两个选项可选可不选，点击Continue继续：</p>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604173207.png" alt=""></p>
<p>这时Github会给你发一封邮件，验证一下即可，验证过后才可以创建库。</p>
<p>验证完成后，开始创建库，如下图所示，仓库名创建格式必须为：<strong>&lt;用户名&gt;.github.io</strong>，<strong>Description</strong>为描述仓库，自定义写，填写必要的描述，也可不填。勾选<strong>Initialize this repository with a README</strong>点击<strong>Creat repository</strong>进行创建。</p>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604173422.png" alt=""></p>
<p>然后就会出现如图所示的界面，即仓库创建成功！</p>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604173520.png" alt=""></p>
<p>我们来测试一下，点击<strong>Create new file</strong>，出现如下界面，然后命名文件名为<strong>index.html</strong>，在填写如图的内容，再点击<strong>Commit new file</strong>，即创建成功，然后打开一个新的网页，输入网址<strong>https://&lt;你的用户名&gt;.github.io</strong>，即可以看见一个新的网页，其中的内容就是你写的内容。</p>
<p>至此，Github的注册以及Github Pages已经创建完成了。</p>
<h2 id="三-配置git用户名和邮箱"><a class="markdownIt-Anchor" href="#三-配置git用户名和邮箱"></a> 三、配置Git用户名和邮箱</h2>
<p>在桌面点击鼠标右键，点击<strong>Git Bash Here</strong>，会出现一个界面如下图所示：</p>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604174430.png" alt=""></p>
<p>然后分别输入下面的两个命令，并回车：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">git config --global user.name "此处填写你注册时的用户名"</span><br><span class="line">git config --global user.email "此处填写你注册时的邮箱"</span><br><span class="line"># 一般只要不报错，可以跳过下面寻找.gitconfig文件</span><br></pre></td></tr></tbody></table></figure>
<p>然后找到**.gitconfig<strong>文件，文件存放位置在</strong>C:/Users/[username]/.gitconfig**（未找到的话，请开启显示隐藏文件的功能），用编辑器打开，看到如下图所示的内容，即配置成功！</p>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604174606.png" alt=""></p>
<h2 id="四-本地安装hexo静态博客框架以及发布到github-pages"><a class="markdownIt-Anchor" href="#四-本地安装hexo静态博客框架以及发布到github-pages"></a> 四、本地安装hexo静态博客框架以及发布到Github Pages</h2>
<p>首先选择一个磁盘作为你博客文件的存放位置，然后新建一个文件夹，比如名为blogtest的文件夹，创建完后，先不要点进去，在此处点击鼠标右键，选择Git Bash Here，然后依次输入如下命令，：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># hexo框架的安装</span><br><span class="line">npm install -g hexo-cli</span><br><span class="line"># 等上一个命令完成后，在输入下面的命令</span><br><span class="line">hexo init &lt;新建文件夹的名称&gt;  #初始化文件夹</span><br><span class="line">cd &lt;新建文件夹的名称&gt;</span><br><span class="line">npm install  # 安装博客所需要的依赖文件</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604174748.png" alt=""></p>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604174754.png" alt=""></p>
<p>等待运行完成，此时文件夹中多了许多文件。 注意：后续的命令均需要在站点目录下（即文件夹内）使用Git Bash运行。 此时Hexo框架的本地搭建已经完成了。我们来运行一下看看，命令行依次输入以下命令 :</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604175038.png" alt=""></p>
<p>浏览器中打开http://locakhost:4000或者127.0.0.1:4000，可以看到一个网页，说明Hexo博客已经成功在本地运行。</p>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604175042.png" alt=""></p>
<h3 id="本地博客发布到github-pages"><a class="markdownIt-Anchor" href="#本地博客发布到github-pages"></a> 本地博客发布到Github Pages</h3>
<p>之前的步骤中，我们已经完成了对Github账户的注册以及Github Pages的创建，接下来是将本地博客发布至Github Pages。</p>
<ol>
<li>首先需要安装发布的插件，在站点目录下执行下面的命令，也就是创建的博客目录下：</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></tbody></table></figure>
<ol start="2">
<li>紧接着，将本地目录与GitHub关联起来，输入下面的命令行：</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -C "你的邮箱地址"</span><br></pre></td></tr></tbody></table></figure>
<p>输入后一直回车，然后在<strong>C:/Users/[username]<strong>目录下找到名为</strong>.ssh</strong>的文件夹， 文件夹内会有两个文件，一个<strong>id_rsa.pub</strong>一个<strong>id_rsa</strong>，用文本编辑器打开id_rsa.pub，复制里面的的内容。 然后打开Github，点击右上角的头像 Settings 选择SSH and GPG keys</p>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604222057.png" alt=""></p>
<p>点击New SSH key 将之前复制的内容粘帖到Key的框中。 上面的Title可以随意，点击Add SSH key 完成添加。</p>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604222136.png" alt=""></p>
<p>然后回到Git的命令行界面，测试一下是否与GitHub连接成功。输入下面的命令行：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></tbody></table></figure>
<p>点击回车，然后会出现一个询问内容，输入yes，回车，会出现一段内容，Hi ! You’ve successfully authenticated, but GitHub doesnot provide shell access.。 说明连接成功。此处这个``应该是你Github的用户名。</p>
<ol start="3">
<li>进入博客站点目录，用文本编辑器打开<strong>config.yml</strong>， <strong>config.yml</strong>是博客的配置文件，在以后的博客修改，如个性化修改，博客SEO优化等都会使用到，修改如下图的几个地方：</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">title: 你的博客名</span><br><span class="line">subtitle: 博客的副标题，有些主题支持</span><br><span class="line">description: 博客描述</span><br><span class="line">keywords: 博客关键词</span><br><span class="line">author: 作者，在文章中显示</span><br><span class="line">language: 博客语言语种   </span><br><span class="line">timezone: 时区</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604222505.png" alt=""></p>
<p>滑到文件最底部，有一个deploy，在deploy下面添加一个repo项 ，一个branch项。填入如下代码，并如下图所示：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">type: git</span><br><span class="line">repo: git@github.com:Github用户名/github用户名.github.io.git  </span><br><span class="line">//也可使用https地址，如：https://github.com/Github用户名/Github用户名.github.io.git            </span><br><span class="line">branch: master</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200604223045.png" alt=""></p>
<ol start="4">
<li>最后就是生成页面，并发布至Github Pages，执行如下命令：</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># Hexo会根据配置文件渲染出一套静态页面</span><br><span class="line">hexo g</span><br><span class="line"># 将上一步渲染出的一系列文件上传至至Github Pages</span><br><span class="line">hexo d</span><br><span class="line"># 也可以直接输入此命令，直接完成渲染和上传</span><br><span class="line">hexo g -d</span><br></pre></td></tr></tbody></table></figure>
<p>上传完成后，在浏览器中打开https://&lt;用户名&gt;.github.io，查看上传的网页。如果页面变成了之前本地调试时的样子，说明上传以及完成了。没变的话查看一下上传时命令行窗口的信息有没有错误信息，没有的话清除一下浏览器缓存试试。</p>
<h2 id="五-hexo博客主题安装以及一些个性化修改"><a class="markdownIt-Anchor" href="#五-hexo博客主题安装以及一些个性化修改"></a> 五、hexo博客主题安装以及一些个性化修改</h2>
<h3 id="主题特性"><a class="markdownIt-Anchor" href="#主题特性"></a> 主题特性</h3>
<ul>
<li>简单漂亮，文章内容美观易读</li>
<li>Material Design 设计</li>
<li>响应式设计，博客在桌面端、平板、手机等设备上均能很好的展现</li>
<li>首页轮播文章及每天动态切换 Banner 图片</li>
<li>瀑布流式的博客文章列表（文章无特色图片时会有 24 张漂亮的图片代替）</li>
<li>时间轴式的归档页</li>
<li>词云的标签页和雷达图的分类页</li>
<li>丰富的关于我页面（包括关于我、文章统计图、我的项目、我的技能、相册等）</li>
<li>可自定义的数据的友情链接页面</li>
<li>支持文章置顶和文章打赏</li>
<li>支持 MathJax</li>
<li>TOC 目录</li>
<li>可设置复制文章内容时追加版权信息</li>
<li>可设置阅读文章时做密码验证</li>
<li>Gitalk、Gitment、Valine 和 Disqus 评论模块（推荐使用 Gitalk）</li>
<li>集成了不蒜子统计、谷歌分析（Google Analytics）和文章字数统计等功能</li>
<li>支持在首页的音乐播放和视频播放功能</li>
<li>支持emoji表情，用markdown emoji语法书写直接生成对应的能跳跃的表情。</li>
<li>支持 DaoVoice、Tidio 在线聊天功能。</li>
</ul>
<h3 id="1-主题下载与安装"><a class="markdownIt-Anchor" href="#1-主题下载与安装"></a> 1. 主题下载与安装</h3>
<p>点击 <a target="_blank" rel="noopener" href="https://github.com/blinkfox/hexo-theme-matery">传送门</a> 下载 master 分支的最新稳定版的代码，解压缩后，将 hexo-theme-matery 的文件夹复制到你 Hexo 的 themes 文件夹中即可。</p>
<p>当然你也可以在你的站点目录文件夹下使用 git clone 命令来下载：直接在站点根目录下执行下面的命令，即可进行主题的下载，主题有两个版本，稳定版本和最新版本(不定期更新优化)，自主选择版本。</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">git clone https://github.com/blinkfox/hexo-theme-matery themes/matery     # 稳定版</span><br><span class="line">git clone -b develop https://github.com/blinkfox/hexo-theme-matery themes/matery   #最新版(不定期进行优化更新)</span><br></pre></td></tr></tbody></table></figure>
<h3 id="2-主题配置"><a class="markdownIt-Anchor" href="#2-主题配置"></a> 2. 主题配置</h3>
<h4 id="21-切换主题"><a class="markdownIt-Anchor" href="#21-切换主题"></a> 2.1 切换主题</h4>
<blockquote>
<p>注意：首先需要明白什么是站点配置文件，什么是主题配置文件，站点配置文件就是根目录下的配置文件，比如我的博客文件在<strong>F:\blog</strong>下，那么站点配置文件就是<strong>F:\blog_config.yml</strong>，主题配置文件就是<strong>F:\blog\themes\matery_config.yml</strong></p>
<p>另外注意，配置文件中的标点符号不要出现中文格式的标点符号，不然运行会出错。</p>
</blockquote>
<p>主题下载完成后，将站点配置文件中的<strong>theme</strong>值修改为你下载主题的文件名，此处为matery，那么值就修改为theme: matery。</p>
<p>一些站点配置文件的其他地方的修改：</p>
<ul>
<li>语言选择：如果为中文用户，则在language:后添加值zh-CN，如果不修改，默认为英语；</li>
<li>网址修改：url:的值为你的网址名，如<strong><a target="_blank" rel="noopener" href="http://xxxx.github.io">http://xxxx.github.io</a></strong>，如果有域名，则修改为你的域名即可，至于有关域名的修改解析，后面我会说到，这里先不说了。</li>
<li>站点配置文件有个per_page属性，建议修改为6的倍数，这样网站在适应设备时，有较好的显示效果。</li>
</ul>
<h4 id="22-新建标签-tags-页面"><a class="markdownIt-Anchor" href="#22-新建标签-tags-页面"></a> 2.2 新建标签 tags 页面</h4>
<p><strong>tages</strong> 页是用来展示所有标签的页面，如果在你的博客<strong>source</strong>目录下还没有<strong>tags/index.md</strong>文件，那么你就需要新建一个，命令如下：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">hexo new page "tags"</span><br></pre></td></tr></tbody></table></figure>
<p>编辑你刚刚新建的页面文件 <strong>/source/tags/index.md</strong>，至少需要以下内容：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: tags</span><br><span class="line">date: 2020-05-1 18:23:38</span><br><span class="line">type: "tags"</span><br><span class="line">layout: "tags"</span><br><span class="line">---</span><br></pre></td></tr></tbody></table></figure>
<h4 id="23-新建分类-categories-页面"><a class="markdownIt-Anchor" href="#23-新建分类-categories-页面"></a> 2.3 新建分类 categories 页面</h4>
<p><strong>categories</strong>页是用来展示所有分类的页面，如果在你的博客<strong>source</strong>目录下还没有<strong>categories/index.md</strong>文件，那么你就需要新建一个，命令如下：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">hexo new page "categories"</span><br></pre></td></tr></tbody></table></figure>
<p>编辑你刚刚新建的页面文件 <strong>/source/categories/index.md</strong>，至少需要以下内容：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: categories</span><br><span class="line">date: 2020-05-1  17:25:30</span><br><span class="line">type: "categories"</span><br><span class="line">layout: "categories"</span><br><span class="line">---</span><br></pre></td></tr></tbody></table></figure>
<h4 id="24-新建关于我-about-页面"><a class="markdownIt-Anchor" href="#24-新建关于我-about-页面"></a> 2.4 新建关于我 about 页面</h4>
<p><strong>about</strong> 页是用来展示关于我和我的博客信息的页面，如果在你的博客<strong>source</strong>目录下还没有<strong>about/index.md</strong>文件，那么你就需要新建一个，命令如下：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">hexo new page "about"</span><br></pre></td></tr></tbody></table></figure>
<p>编辑你刚刚新建的页面文件 <strong>/source/about/index.md</strong>，至少需要以下内容：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: categories</span><br><span class="line">date: 2020-05-1  17:25:30</span><br><span class="line">type: "categories"</span><br><span class="line">layout: "categories"</span><br><span class="line">---</span><br></pre></td></tr></tbody></table></figure>
<h4 id="25-新建留言板-contact-页面-可选"><a class="markdownIt-Anchor" href="#25-新建留言板-contact-页面-可选"></a> 2.5 新建留言板 contact 页面 (可选)</h4>
<p><strong>contact</strong>页是用来展示留言板信息的页面，如果在你的博客<strong>source</strong>目录下还没有<strong>contact/index.md</strong>文件，那么你就需要新建一个，命令如下：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">hexo new page "contact"</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p>编辑你刚刚新建的页面文件**/source/contact/index.md**，至少需要以下内容：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: contact</span><br><span class="line">date: 2020-05-1  17:25:30</span><br><span class="line">type: "contact"</span><br><span class="line">layout: "contact"</span><br><span class="line">---</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>注：本留言板功能依赖于第三方评论系统，请激活你的评论系统才有效果。并且在主题的 <strong>_config.yml</strong>文件中，第 19 至 21 行的“菜单”配置，取消关于留言板的注释即可。</p>
</blockquote>
<h4 id="26-新建友情链接-friends-页面-可选"><a class="markdownIt-Anchor" href="#26-新建友情链接-friends-页面-可选"></a> 2.6 新建友情链接 friends 页面 (可选)</h4>
<p><strong>friends</strong>页是用来展示友情链接信息的页面，如果在你的博客<strong>source</strong>目录下还没有<strong>friends/index.md</strong>文件，那么你就需要新建一个，命令如下：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">hexo new page "friends"</span><br></pre></td></tr></tbody></table></figure>
<p>编辑你刚刚新建的页面文件 <strong>/source/friends/index.md</strong>，至少需要以下内容：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: friends</span><br><span class="line">date: 2020-05-1  21:25:30</span><br><span class="line">type: "friends"</span><br><span class="line">layout: "friends"</span><br><span class="line">---</span><br></pre></td></tr></tbody></table></figure>
<p>同时，在你的博客<strong>source</strong>目录下新建<strong>data</strong>目录，在 <strong>data</strong> 目录中新建 <strong>friends.json</strong>文件，文件内容如下所示：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">[{</span><br><span class="line">    "avatar": "http://image.luokangyuan.com/1_qq_27922023.jpg",</span><br><span class="line">    "name": "码酱",</span><br><span class="line">    "introduction": "我不是大佬，只是在追寻大佬的脚步",</span><br><span class="line">    "url": "http://luokangyuan.com/",</span><br><span class="line">    "title": "前去学习"</span><br><span class="line">}, {</span><br><span class="line">    "avatar": "http://image.luokangyuan.com/4027734.jpeg",</span><br><span class="line">    "name": "闪烁之狐",</span><br><span class="line">    "introduction": "编程界大佬，技术牛，人还特别好，不懂的都可以请教大佬",</span><br><span class="line">    "url": "https://blinkfox.github.io/",</span><br><span class="line">    "title": "前去学习"</span><br><span class="line">}, {</span><br><span class="line">    "avatar": "http://image.luokangyuan.com/avatar.jpg",</span><br><span class="line">    "name": "ja_rome",</span><br><span class="line">    "introduction": "平凡的脚步也可以走出伟大的行程",</span><br><span class="line">    "url": "https://me.csdn.net/jlh912008548",</span><br><span class="line">    "title": "前去学习"</span><br><span class="line">}]</span><br></pre></td></tr></tbody></table></figure>
<h4 id="27-菜单导航配置"><a class="markdownIt-Anchor" href="#27-菜单导航配置"></a> 2.7 菜单导航配置</h4>
<h5 id="271-配置基本菜单导航的名称-路径url和图标icon"><a class="markdownIt-Anchor" href="#271-配置基本菜单导航的名称-路径url和图标icon"></a> 2.7.1. 配置基本菜单导航的名称、路径url和图标icon.</h5>
<ul>
<li>菜单导航名称可以是中文也可以是英文(如：Index或主页)</li>
<li>图标icon 可以在<a target="_blank" rel="noopener" href="https://fontawesome.com/icons">Font Awesome</a> 中查找</li>
</ul>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">menu:</span><br><span class="line">  Index:</span><br><span class="line">    url: /</span><br><span class="line">    icon: fas fa-home</span><br><span class="line">  Tags:</span><br><span class="line">    url: /tags</span><br><span class="line">    icon: fas fa-tags</span><br><span class="line">  Categories:</span><br><span class="line">    url: /categories</span><br><span class="line">    icon: fas fa-bookmark</span><br><span class="line">  Archives:</span><br><span class="line">    url: /archives</span><br><span class="line">    icon: fas fa-archive</span><br><span class="line">  About:</span><br><span class="line">    url: /about</span><br><span class="line">    icon: fas fa-user-circle</span><br><span class="line">  Friends:</span><br><span class="line">    url: /friends</span><br><span class="line">    icon: fas fa-address-book</span><br></pre></td></tr></tbody></table></figure>
<h5 id="272-二级菜单配置方法"><a class="markdownIt-Anchor" href="#272-二级菜单配置方法"></a> 2.7.2. 二级菜单配置方法</h5>
<p>如果你需要二级菜单则可以在原基本菜单导航的基础上如下操作</p>
<ul>
<li>在需要添加二级菜单的一级菜单下添加children关键字(如:About菜单下添加children)</li>
<li>在children下创建二级菜单的 名称name,路径url和图标icon.</li>
<li>注意每个二级菜单模块前要加 -.</li>
<li>注意缩进格式</li>
</ul>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">menu:</span><br><span class="line">  Index:</span><br><span class="line">    url: /</span><br><span class="line">    icon: fas fa-home</span><br><span class="line">  Tags:</span><br><span class="line">    url: /tags</span><br><span class="line">    icon: fas fa-tags</span><br><span class="line">  Categories:</span><br><span class="line">    url: /categories</span><br><span class="line">    icon: fas fa-bookmark</span><br><span class="line">  Archives:</span><br><span class="line">    url: /archives</span><br><span class="line">    icon: fas fa-archive</span><br><span class="line">  About:</span><br><span class="line">    url: /about</span><br><span class="line">    icon: fas fa-user-circle-o</span><br><span class="line">  Friends:</span><br><span class="line">    url: /friends</span><br><span class="line">    icon: fas fa-address-book</span><br><span class="line">  Medias:</span><br><span class="line">    icon: fas fa-list</span><br><span class="line">    children:</span><br><span class="line">      - name: Musics</span><br><span class="line">        url: /musics</span><br><span class="line">        icon: fas fa-music</span><br><span class="line">      - name: Movies</span><br><span class="line">        url: /movies</span><br><span class="line">        icon: fas fa-film</span><br><span class="line">      - name: Books</span><br><span class="line">        url: /books</span><br><span class="line">        icon: fas fa-book</span><br><span class="line">      - name: Galleries</span><br><span class="line">        url: /galleries</span><br><span class="line">        icon: fas fa-image</span><br></pre></td></tr></tbody></table></figure>
<h4 id="28-添加emoji表情支持可选的"><a class="markdownIt-Anchor" href="#28-添加emoji表情支持可选的"></a> 2.8 添加emoji表情支持（可选的）</h4>
<p>本主题新增了对<strong>emoji</strong>表情的支持，使用到了<a target="_blank" rel="noopener" href="https://developer.aliyun.com/mirror/npm/package/hexo-filter-github-emojis"> hexo-filter-github-emojis </a>的 Hexo 插件来支持 <strong>emoji</strong>表情的生成，把对应的<strong>markdown emoji</strong>语法（<strong>::</strong>,例如：<strong>😄</strong>）转变成会跳跃的<strong>emoji</strong>表情，安装命令如下：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">npm install hexo-filter-github-emojis --save</span><br></pre></td></tr></tbody></table></figure>
<p>在 Hexo 根目录下的 <strong>config.yml</strong>文件中，新增以下的配置项：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">githubEmojis:</span><br><span class="line">  enable: true</span><br><span class="line">  className: github-emoji</span><br><span class="line">  inject: true</span><br><span class="line">  styles:</span><br><span class="line">  customEmojis:</span><br></pre></td></tr></tbody></table></figure>
<p>执行 <strong>hexo clean &amp;&amp; hexo g</strong> 重新生成博客文件，然后就可以在文章中对应位置看到你用<strong>emoji</strong>语法写的表情了。</p>
<h4 id="29-代码高亮"><a class="markdownIt-Anchor" href="#29-代码高亮"></a> 2.9 代码高亮</h4>
<p>由于 Hexo 自带的代码高亮主题显示不好看，所以主题中使用到了<a target="_blank" rel="noopener" href="https://github.com/ele828/hexo-prism-plugin">hexo-prism-plugin</a> 的 Hexo 插件来做代码高亮，安装命令如下：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">npm i -S hexo-prism-plugin</span><br></pre></td></tr></tbody></table></figure>
<p>然后，修改 Hexo 根目录下 <strong>config.yml</strong>文件中<strong>highlight.enable</strong>的值为 false，并新增<strong>prism</strong>插件相关的配置，主要配置如下：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">prism_plugin:</span><br><span class="line">  mode: 'preprocess'    # realtime/preprocess</span><br><span class="line">  theme: 'tomorrow'</span><br><span class="line">  line_number: false    # default false</span><br><span class="line">  custom_css:</span><br></pre></td></tr></tbody></table></figure>
<h4 id="210-搜索"><a class="markdownIt-Anchor" href="#210-搜索"></a> 2.10 搜索</h4>
<p>本主题中还使用到了 <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search">hexo-generator-search</a> 的 Hexo 插件来做内容搜索，安装命令如下：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">npm install hexo-generator-search --save</span><br></pre></td></tr></tbody></table></figure>
<p>在 Hexo 根目录下的<strong>config.yml</strong>文件中，新增以下的配置项：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">search:</span><br><span class="line">  path: search.xml</span><br><span class="line">  field: post</span><br></pre></td></tr></tbody></table></figure>
<h4 id="211-中文链接转拼音可选的"><a class="markdownIt-Anchor" href="#211-中文链接转拼音可选的"></a> 2.11 中文链接转拼音（可选的）</h4>
<p>如果你的文章名称是中文的，那么 Hexo 默认生成的永久链接也会有中文，这样不利于 <strong>SEO</strong>，且 <strong>gitment</strong>评论对中文链接也不支持。我们可以用 <a target="_blank" rel="noopener" href="https://github.com/viko16/hexo-permalink-pinyin">hexo-permalink-pinyin Hexo </a>插件使在生成文章时生成中文拼音的永久链接。</p>
<p>安装命令如下：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">npm i hexo-permalink-pinyin --save</span><br></pre></td></tr></tbody></table></figure>
<p>在 Hexo 根目录下的 **_config.yml **文件中，新增以下的配置项：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">permalink_pinyin:</span><br><span class="line">  enable: true</span><br><span class="line">  separator: '-' # default: '-'</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>注：除了此插件外，<a target="_blank" rel="noopener" href="https://github.com/rozbo/hexo-abbrlink">hexo-abbrlink </a>插件也可以生成非中文的链接。</p>
</blockquote>
<h4 id="212-文章字数统计插件可选的"><a class="markdownIt-Anchor" href="#212-文章字数统计插件可选的"></a> 2.12 文章字数统计插件（可选的）</h4>
<p>如果你想要在文章中显示文章字数、阅读时长信息，可以安装 <a target="_blank" rel="noopener" href="https://github.com/willin/hexo-wordcount">hexo-wordcount</a>插件。</p>
<p>安装命令如下：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">i --save hexo-wordcount</span><br></pre></td></tr></tbody></table></figure>
<p>然后只需在本主题下的 <strong>config.yml</strong> 文件中，激活以下配置项即可：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">wordCount:</span><br><span class="line">  enable: false # 将这个值设置为 true 即可.</span><br><span class="line">  postWordCount: true</span><br><span class="line">  min2read: true</span><br><span class="line">  totalCount: true</span><br></pre></td></tr></tbody></table></figure>
<h4 id="213-添加-rss-订阅支持可选的"><a class="markdownIt-Anchor" href="#213-添加-rss-订阅支持可选的"></a> 2.13 添加 RSS 订阅支持（可选的）</h4>
<p>本主题中还使用到了 <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo-generator-feed">hexo-generator-feed</a> 的 Hexo 插件来做 RSS，安装命令如下：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">npm install hexo-generator-feed --save</span><br></pre></td></tr></tbody></table></figure>
<p>在 Hexo 根目录下的 <strong>config.yml</strong> 文件中，新增以下的配置项：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">feed:</span><br><span class="line">  type: atom</span><br><span class="line">  path: atom.xml</span><br><span class="line">  limit: 20</span><br><span class="line">  hub:</span><br><span class="line">  content:</span><br><span class="line">  content_limit: 140</span><br><span class="line">  content_limit_delim: ' '</span><br><span class="line">  order_by: -date</span><br></pre></td></tr></tbody></table></figure>
<p>执行<strong>hexo clean &amp;&amp; hexo g</strong>重新生成博客文件，然后在<strong>public</strong>文件夹中即可看到 <strong>atom.xml</strong>文件，说明你已经安装成功了。</p>
<h4 id="214-添加-daovoice-在线聊天功能可选的"><a class="markdownIt-Anchor" href="#214-添加-daovoice-在线聊天功能可选的"></a> 2.14 添加 DaoVoice 在线聊天功能（可选的）</h4>
<p>前往 <a target="_blank" rel="noopener" href="http://www.daovoice.io">DaoVoice</a>官网注册并且获取 app_id，并将 app_id 填入主题的 <strong>config.yml</strong>文件中</p>
<h4 id="215-添加-tidio-在线聊天功能可选的"><a class="markdownIt-Anchor" href="#215-添加-tidio-在线聊天功能可选的"></a> 2.15 添加 Tidio 在线聊天功能（可选的）</h4>
<p>前往 Tidio 官网注册并且获取 Public Key，并将 Public Key 填入主题的 <strong>config.yml</strong>文件中。</p>
<h4 id="216-修改页脚"><a class="markdownIt-Anchor" href="#216-修改页脚"></a> 2.16 修改页脚</h4>
<p>页脚信息可能需要做定制化修改，而且它不便于做成配置信息，所以可能需要你自己去再修改和加工。修改的地方在主题文件的 <strong>/layout/_partial/footer.ejs</strong>文件中，包括站点、使用的主题、访问量等。</p>
<h4 id="217-修改社交链接"><a class="markdownIt-Anchor" href="#217-修改社交链接"></a> 2.17 修改社交链接</h4>
<p>在主题的<strong>config.yml</strong>文件中，默认支持 <strong>QQ</strong>、<strong>GitHub</strong>和邮箱等的配置，你可以在主题文件的 <strong>/layout/_partial/social-link.ejs</strong> 文件中，新增、修改你需要的社交链接地址，增加链接可参考如下代码：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">&lt;% if (theme.socialLink.github) { %&gt;</span><br><span class="line">    &lt;a href="&lt;%= theme.socialLink.github %&gt;" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50"&gt;</span><br><span class="line">        &lt;i class="fab fa-github"&gt;&lt;/i&gt;</span><br><span class="line">    &lt;/a&gt;</span><br><span class="line">&lt;% } %&gt;</span><br></pre></td></tr></tbody></table></figure>
<p>其中，社交图标（如：<strong>fa-github</strong>）你可以在 <a target="_blank" rel="noopener" href="https://fontawesome.com/icons">Font Awesome</a>中搜索找到。以下是常用社交图标的标识，供你参考：</p>
<ul>
<li>Facebook: fab fa-facebook</li>
<li>Twitter: fab fa-twitter</li>
<li>Google-plus: fab fa-google-plus</li>
<li>Linkedin: fab fa-linkedin</li>
<li>Tumblr: fab fa-tumblr</li>
<li>Medium: fab fa-medium</li>
<li>Slack: fab fa-slack</li>
<li>Sina Weibo: fab fa-weibo</li>
<li>Wechat: fab fa-weixin</li>
<li>QQ: fab fa-qq</li>
<li>Zhihu: fab fa-zhihu</li>
</ul>
<blockquote>
<p>注意: 本主题中使用的 <strong>Font Awesome</strong> 版本为 <strong>5.11.0</strong>。</p>
</blockquote>
<h4 id="218-修改打赏的二维码图片"><a class="markdownIt-Anchor" href="#218-修改打赏的二维码图片"></a> 2.18 修改打赏的二维码图片</h4>
<p>在主题文件的<strong>source/medias/reward</strong>文件中，你可以替换成你的的微信和支付宝的打赏二维码图片。</p>
<h4 id="219-配置音乐播放器可选的"><a class="markdownIt-Anchor" href="#219-配置音乐播放器可选的"></a> 2.19 配置音乐播放器（可选的）</h4>
<blockquote>
<p>新版主题支持接入第三方音乐，如QQ音乐，网易云音乐，酷狗音乐等等</p>
</blockquote>
<p>要支持音乐播放，在主题的<strong>config.yml</strong>配置文件中激活music配置即可：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># 是否在首页显示音乐</span><br><span class="line">music:</span><br><span class="line">  enable: true</span><br><span class="line">  title:            #非吸底模式有效</span><br><span class="line">    enable: true</span><br><span class="line">    show: 听听音乐</span><br><span class="line">  server: netease   #require music platform: netease, tencent, kugou, xiami, baidu</span><br><span class="line">  type: playlist    #require song, playlist, album, search, artist</span><br><span class="line">  id: 503838841     #require song id / playlist id / album id / search keyword</span><br><span class="line">  fixed: false      # 开启吸底模式</span><br><span class="line">  autoplay: false   # 是否自动播放</span><br><span class="line">  theme: '#42b983'</span><br><span class="line">  loop: 'all'       # 音频循环播放, 可选值: 'all', 'one', 'none'</span><br><span class="line">  order: 'random'   # 音频循环顺序, 可选值: 'list', 'random'</span><br><span class="line">  preload: 'auto'   # 预加载，可选值: 'none', 'metadata', 'auto'</span><br><span class="line">  volume: 0.7       # 默认音量，请注意播放器会记忆用户设置，用户手动设置音量后默认音量即失效</span><br><span class="line">  listFolded: true  # 列表默认折叠</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>server可选netease（网易云音乐），tencent（QQ音乐），kugou（酷狗音乐），xiami（虾米音乐），baidu（百度音乐）。<br>
type可选song（歌曲），playlist（歌单），album（专辑），search（搜索关键字），artist（歌手）<br>
id获取示例: 浏览器打开网易云音乐，点击我喜欢的音乐歌单，地址栏有一串数字，playlist的id即为这串数字。</p>
</blockquote>
<h3 id="3-文章-front-matter-介绍"><a class="markdownIt-Anchor" href="#3-文章-front-matter-介绍"></a> 3. 文章 Front-matter 介绍</h3>
<h4 id="front-matter-选项详解"><a class="markdownIt-Anchor" href="#front-matter-选项详解"></a> Front-matter 选项详解</h4>
<p><strong>Front-matter</strong>选项中的所有内容均为<strong>非必填</strong>的。但我仍然建议至少填写 title 和 date 的值。</p>
<table>
<thead>
<tr>
<th>配置选项</th>
<th>默认值</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>title</td>
<td>Markdown 的文件标题</td>
<td style="text-align:left">文章标题，强烈建议填写此选项</td>
</tr>
<tr>
<td>date</td>
<td>文件创建时的日期时间</td>
<td style="text-align:left">发布时间，强烈建议填写此选项，且最好保证全局唯一</td>
</tr>
<tr>
<td>author</td>
<td>根 _config.yml 中的 author</td>
<td style="text-align:left">文章作者</td>
</tr>
<tr>
<td>img</td>
<td>featureImages 中的某个值</td>
<td style="text-align:left">文章特征图，推荐使用图床(腾讯云、七牛云、又拍云等)来做图片的路径。如: <a target="_blank" rel="noopener" href="http://xxx.com/xxx.jpg">http://xxx.com/xxx.jpg</a></td>
</tr>
<tr>
<td>top</td>
<td>true</td>
<td style="text-align:left">推荐文章（文章是否置顶），如果 top 值为 true，则会作为首页推荐文章</td>
</tr>
<tr>
<td>cover</td>
<td>false</td>
<td style="text-align:left">v1.0.2版本新增，表示该文章是否需要加入到首页轮播封面中</td>
</tr>
<tr>
<td>coverImg</td>
<td>无</td>
<td style="text-align:left">v1.0.2版本新增，表示该文章在首页轮播封面需要显示的图片路径，如果没有，则默认使用文章的特色图片</td>
</tr>
<tr>
<td>password</td>
<td>无</td>
<td style="text-align:left">文章阅读密码，如果要对文章设置阅读验证密码的话，就可以设置 password 的值，该值必须是用 SHA256 加密后的密码，防止被他人识破。前提是在主题的 config.yml 中激活了 verifyPassword选项</td>
</tr>
<tr>
<td>toc</td>
<td>true</td>
<td style="text-align:left">是否开启 TOC，可以针对某篇文章单独关闭 TOC 的功能。前提是在主题的 config.yml 中激活了 toc 选项</td>
</tr>
<tr>
<td>mathjax</td>
<td>false</td>
<td style="text-align:left">是否开启数学公式支持 ，本文章是否开启 mathjax，且需要在主题的 _config.yml 文件中也需要开启才行</td>
</tr>
<tr>
<td>summary</td>
<td>无</td>
<td style="text-align:left">文章摘要，自定义的文章摘要内容，如果这个属性有值，文章卡片摘要就显示这段文字，否则程序会自动截取文章的部分内容作为摘要</td>
</tr>
<tr>
<td>categories</td>
<td>无</td>
<td style="text-align:left">文章分类，本主题的分类表示宏观上大的分类，只建议一篇文章一个分类</td>
</tr>
<tr>
<td>tags</td>
<td>无</td>
<td style="text-align:left">文章标签，一篇文章可以多个标签</td>
</tr>
<tr>
<td>reprintPolicy</td>
<td>cc_by</td>
<td style="text-align:left">文章转载规则， 可以是 cc_by, cc_by_nd, cc_by_sa, cc_by_nc, cc_by_nc_nd, cc_by_nc_sa, cc0, noreprint 或 pay 中的一个</td>
</tr>
</tbody>
</table>
<blockquote>
<p>注意:</p>
<ol>
<li>如果 img 属性不填写的话，文章特色图会根据文章标题的 hashcode 的值取余，然后选取主题中对应的特色图片，从而达到让所有文章都的特色图各有特色。</li>
<li>date 的值尽量保证每篇文章是唯一的，因为本主题中 Gitalk 和 Gitment 识别 id 是通过 date 的值来作为唯一标识的。</li>
<li>如果要对文章设置阅读验证密码的功能，不仅要在 Front-matter 中设置采用了 SHA256 加密的 password 的值，还需要在主题的 config.yml 中激活了配置。有些在线的 SHA256 加密的地址，可供你使用：开源中国在线工具、chahuo、站长工具。</li>
<li>您可以在文章md文件的 front-matter 中指定 reprintPolicy 来给单个文章配置转载规则</li>
</ol>
</blockquote>
<p>以下为文章的 <strong>Front-matter</strong> 示例。</p>
<p>最简示例</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">title: typora-vue-theme主题介绍</span><br><span class="line">date: 2018-09-07 09:25:00</span><br></pre></td></tr></tbody></table></figure>
<p>最全示例</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">title: typora-vue-theme主题介绍</span><br><span class="line">date: 2018-09-07 09:25:00</span><br><span class="line">author: 赵奇</span><br><span class="line">img: /source/images/xxx.jpg</span><br><span class="line">top: true</span><br><span class="line">cover: true</span><br><span class="line">coverImg: /images/1.jpg</span><br><span class="line">password: 8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92</span><br><span class="line">toc: false</span><br><span class="line">mathjax: false</span><br><span class="line">summary: 这是你自定义的文章摘要内容，如果这个属性有值，文章卡片摘要就显示这段文字，否则程序会自动截取文章的部分内容作为摘要</span><br><span class="line">categories: Markdown</span><br><span class="line">tags:</span><br><span class="line">  - Typora</span><br><span class="line">  - Markdown</span><br><span class="line">---</span><br></pre></td></tr></tbody></table></figure>
<h3 id="4-效果截图"><a class="markdownIt-Anchor" href="#4-效果截图"></a> 4. 效果截图</h3>
<blockquote>
<p>最新版本进行了优化更新，效果图与最初的效果图有差别，下面的图不是最新版本的。</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200605101735.png" alt="首页"></p>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200605101811.png" alt="首页推荐文章"></p>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200605101840.png" alt="首页文章列表"></p>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200605101919.png" alt="关于我页面"></p>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200605101951.png" alt="文章详情页面"></p>
<h3 id="5-自定制修改"><a class="markdownIt-Anchor" href="#5-自定制修改"></a> 5. 自定制修改</h3>
<p>在本主题的 <strong>config.yml</strong>中可以修改部分自定义信息，有以下几个部分：</p>
<ul>
<li>菜单</li>
<li>我的梦想</li>
<li>首页的音乐播放器和视频播放器配置</li>
<li>是否显示推荐文章名称和按钮配置</li>
<li>favicon 和 Logo</li>
<li>个人信息</li>
<li>TOC 目录</li>
<li>文章打赏信息</li>
<li>复制文章内容时追加版权信息</li>
<li>MathJax</li>
<li>文章字数统计、阅读时长</li>
<li>点击页面的’爱心’效果</li>
<li>我的项目</li>
<li>我的技能</li>
<li>我的相册</li>
<li>Gitalk、Gitment、Valine 和 disqus 评论配置</li>
<li>不蒜子统计和谷歌分析（Google Analytics）</li>
<li>默认特色图的集合。当文章没有设置特色图时，本主题会根据文章标题的 hashcode 值取余，来选择展示对应的特色图<br>
<strong>我认为个人博客应该都有自己的风格和特色</strong>。如果本主题中的诸多功能和主题色彩你不满意，可以在主题中自定义修改，很多更自由的功能和细节点的修改难以在主题的<strong>config.yml</strong>中完成，需要修改源代码才来完成。以下列出了可能对你有用的地方：</li>
</ul>
<h4 id="51-修改主题颜色"><a class="markdownIt-Anchor" href="#51-修改主题颜色"></a> 5.1 修改主题颜色</h4>
<p>在主题文件的**/source/css/matery.css<strong>文件中，搜索</strong>.bg-color** 来修改背景颜色：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">/* 整体背景颜色，包括导航、移动端的导航、页尾、标签页等的背景颜色. */</span><br><span class="line">.bg-color {</span><br><span class="line">    background-image: linear-gradient(to right, #4cbf30 0%, #0f9d58 100%);</span><br><span class="line">}</span><br><span class="line">/*如果想去掉banner图的颜色渐变效果，请将以下的css属性注释掉或者删除掉即可*/</span><br><span class="line">@-webkit-keyframes rainbow {</span><br><span class="line">   /* 动态切换背景颜色. */</span><br><span class="line">}</span><br><span class="line">@keyframes rainbow {</span><br><span class="line">    /* 动态切换背景颜色. */</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h4 id="52-修改-banner-图和文章特色图"><a class="markdownIt-Anchor" href="#52-修改-banner-图和文章特色图"></a> 5.2 修改 banner 图和文章特色图</h4>
<p>你可以直接在**/source/medias/banner<strong>文件夹中更换你喜欢的 <strong>banner</strong> 图片，主题代码中是每天动态切换一张，只需 7 张即可。如果你会 <strong>JavaScript</strong>代码，可以修改成你自己喜欢切换逻辑，如：随机切换等,<strong>banner</strong>切换的代码位置<br>
在</strong>/layout/_partial/bg-cover-content.ejs**文件的 ``代码中：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">$('.bg-cover').css('background-image', 'url(/medias/banner/' + new Date().getDay() + '.jpg)');</span><br></pre></td></tr></tbody></table></figure>
<p>在 /source/medias/featureimages 文件夹中默认有 24 张特色图片，你可以再增加或者减少，并需要在 config.yml 做同步修改。</p>
<p>如果想改为每小时或者每分钟切换banner图的话，需要将**getDay()<strong>改为</strong>getHours()<strong>或者</strong>getMinutes()**即可。</p>
<h4 id="53-修改网站相关信息"><a class="markdownIt-Anchor" href="#53-修改网站相关信息"></a> 5.3 修改网站相关信息</h4>
<p>放上相关的配置文件信息：</p>
<ul>
<li>网站信息的修改</li>
</ul>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">#这是根目录下的配置文件信息</span><br><span class="line">title: tlhg   #这是网站标题</span><br><span class="line">subtitle: tlhg    #这是网站副标题subtitler</span><br><span class="line"># 下面两个description,keywords，需要填上，如果想让搜索引擎收录，这个做SEO优化必不可忽视的两个属性</span><br><span class="line">description: 	  #网站描述</span><br><span class="line">keywords: [HTML, CSS, JavaScript, JQuery, React, Vue.js等]  #网站的关键词</span><br><span class="line">author: YangAir  #作者，文章版权所显示的</span><br><span class="line">language: zh-CN  #网站语言，不填写，默认为英文</span><br><span class="line">timezone:   #时区，可以不填写</span><br><span class="line"># 这是主题配置文件的相关信息</span><br><span class="line"># 配置网站favicon和网站LOGO</span><br><span class="line"># 此处我用的CDN，也可以使用本地文件</span><br><span class="line">favicon: #图片地址</span><br><span class="line">logo: 	 #图片地址</span><br><span class="line"># 网站副标题，打字效果</span><br><span class="line"># 如果有符号 ‘ ，请在 ’ 前面加上 \</span><br><span class="line">subtitle: </span><br><span class="line">  enable: true</span><br><span class="line">  loop: true # 是否循环</span><br><span class="line">  showCursor: true # 是否显示光标</span><br><span class="line">  startDelay: 300 # 开始延迟</span><br><span class="line">  typeSpeed: 100 # 打字速度</span><br><span class="line">  backSpeed: 50 # 删除速度</span><br><span class="line">  sub1: 志之所向，金石为开，谁能御之？</span><br><span class="line">  sub2: 花开不是为了花落，而是为了开的更加灿烂。</span><br><span class="line">  sub3: 没有伞的孩子必须努力奔跑！</span><br><span class="line">  sub4: 欲望以提升热忱，毅力以磨平高山。</span><br><span class="line">  sub5: 如果放弃太早，你永远都不知道自己会错过什么。</span><br><span class="line">  sub6: 没有礁石，就没有美丽的浪花；没有挫折，就没有壮丽的人生。</span><br></pre></td></tr></tbody></table></figure>
<p>注意：</p>
<p>网站打字效果副标题默认有两个，即<strong>sub1</strong>和<strong>sub2</strong>，如果想写多个，则需要修改两处地方，首先修改配置文件，如上面所示，在sub1和sub2后面继续添加即可，然后在去主题目录下的<strong>layout</strong>文件夹下的<strong>partial文件夹</strong>，修改<strong>bg-cover-content.ejs</strong>文件，大约在12行左右，如下面所示：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"> &lt;div class="description center-align"&gt;</span><br><span class="line">     &lt;% if (theme.subtitle.enable) { %&gt;</span><br><span class="line">         &lt;span id="subtitle"&gt;&lt;/span&gt;</span><br><span class="line">         &lt;script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11"&gt;&lt;/script&gt;</span><br><span class="line">        &lt;script&gt;</span><br><span class="line">            var typed = new Typed("#subtitle", {</span><br><span class="line">                strings: ['&lt;%= theme.subtitle.sub1 %&gt;',</span><br><span class="line">                          '&lt;%= theme.subtitle.sub2 %&gt;',</span><br><span class="line">                          '&lt;%= theme.subtitle.sub3 %&gt;',</span><br><span class="line">                          '&lt;%= theme.subtitle.sub4 %&gt;',</span><br><span class="line">                          '&lt;%= theme.subtitle.sub5 %&gt;',</span><br><span class="line">                          '&lt;%= theme.subtitle.sub6 %&gt;'],</span><br><span class="line">                 startDelay: &lt;%= theme.subtitle.startDelay %&gt;,</span><br><span class="line">                 typeSpeed: &lt;%= theme.subtitle.typeSpeed %&gt;,</span><br><span class="line">                 loop: &lt;%= theme.subtitle.loop %&gt;,   </span><br><span class="line">                 backSpeed: &lt;%= theme.subtitle.backSpeed %&gt;,</span><br><span class="line">                 showCursor: &lt;%= theme.subtitle.showCursor %&gt;</span><br><span class="line">              });</span><br><span class="line">          &lt;/script&gt;</span><br><span class="line">      &lt;% } else { %&gt;</span><br><span class="line">            &lt;%= config.description %&gt;</span><br><span class="line">      &lt;% } %&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>社交链接的修改<br>
默认的配置信息为：</li>
</ul>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># 首页 banner 中的第二行个人信息配置，留空即不启用</span><br><span class="line">socialLink:</span><br><span class="line">  github:  https://github.com/blinkfox</span><br><span class="line">  email: 1181062873@qq.com</span><br><span class="line">  facebook: # https://www.facebook.com/xxx</span><br><span class="line">  twitter: # https://twitter.com/xxx</span><br><span class="line">  qq: 1181062873</span><br><span class="line">  weibo: # https://weibo.com/xxx</span><br><span class="line">  zhihu: # https://www.zhihu.com/xxx</span><br><span class="line">  rss: true # true、false</span><br></pre></td></tr></tbody></table></figure>
<p>如果想添加简书，CSDN，掘金，博客园等等，需要在主题配置文件添加相关配置，如下是我个人的配置：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">socialLink:</span><br><span class="line">  qq: 1035800145</span><br><span class="line">  weixin: https://cdn.jsdelivr.net/gh/Yafine/Yafine-imgs/images/wechat.png</span><br><span class="line">  github: https://github.com/tlhg-0</span><br><span class="line">  email: mailto:847607350@qq.com</span><br><span class="line">  facebook: # https://www.facebook.com/xxx</span><br><span class="line">  twitter: # https://twitter.com/xxx</span><br><span class="line">  weibo: # https://weibo.com/xxx</span><br><span class="line">  zhihu: #https://www.zhihu.com/people/xxx/activities</span><br><span class="line">  csdn: #https://blog.csdn.net/xxx</span><br><span class="line">  jianshu: #https://www.jianshu.com/u/xxxxxxxxx</span><br><span class="line">  cnblogs: #https://www.cnblogs.com/xxx/</span><br><span class="line">  rss: true # true、false</span><br></pre></td></tr></tbody></table></figure>
<p>其中的weixin我是用的图片链接，会跳转到一个新的标签页，之后还需要修改ejs文件，文件在主题目录下的<strong>layout</strong>文件夹下的<strong>partial</strong>文件夹，修改<strong>social-link.ejs</strong>，添加相关的配置，我个人添加的配置如下：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">&lt;% if (theme.socialLink.jianshu) { %&gt;</span><br><span class="line">    &lt;a href="&lt;%= theme.socialLink.jianshu %&gt;" class="tooltipped" target="_blank" data-tooltip="关注我的简书: &lt;%= theme.socialLink.jianshu %&gt;" data-position="top" data-delay="50"&gt;</span><br><span class="line">        &lt;i class="fab fa-jianshu"&gt;简&lt;/i&gt;</span><br><span class="line">    &lt;/a&gt;</span><br><span class="line">&lt;% } %&gt;</span><br><span class="line"></span><br><span class="line">&lt;% if (theme.socialLink.csdn) { %&gt;</span><br><span class="line">    &lt;a href="&lt;%= theme.socialLink.csdn %&gt;" class="tooltipped" target="_blank" data-tooltip="关注我的CSDN: &lt;%= theme.socialLink.csdn %&gt;" data-position="top" data-delay="50"&gt;</span><br><span class="line">        &lt;i class="fab fa-csdn"&gt;C&lt;/i&gt;</span><br><span class="line">    &lt;/a&gt;</span><br><span class="line">&lt;% } %&gt;</span><br><span class="line">&lt;% if (theme.socialLink.juejin) { %&gt;</span><br><span class="line">    &lt;a href="&lt;%= theme.socialLink.juejin %&gt;" class="tooltipped" target="_blank" data-tooltip="关注我的掘金: &lt;%= theme.socialLink.juejin %&gt;" data-position="top" data-delay="50"&gt;</span><br><span class="line">        &lt;i class="fab fa-juejin"&gt;掘&lt;/i&gt;</span><br><span class="line">    &lt;/a&gt;</span><br><span class="line">&lt;% } %&gt;</span><br><span class="line"></span><br><span class="line">&lt;% if (theme.socialLink.cnblogs) { %&gt;</span><br><span class="line">    &lt;a href="&lt;%= theme.socialLink.cnblogs %&gt;" class="tooltipped" target="_blank" data-tooltip="关注我的博客园: &lt;%= theme.socialLink.cnblogs %&gt;" data-position="top" data-delay="50"&gt;</span><br><span class="line">        &lt;i class="fab fa-juejin"&gt;博&lt;/i&gt;</span><br><span class="line">    &lt;/a&gt;</span><br><span class="line">&lt;% } %&gt;</span><br><span class="line">&lt;% if (theme.socialLink.weixin) { %&gt;</span><br><span class="line">    &lt;a href="&lt;%= theme.socialLink.weixin %&gt;" class="tooltipped" target="_blank" data-tooltip="微信联系我: &lt;%= theme.socialLink.weixin %&gt;" data-position="top" data-delay="50"&gt;</span><br><span class="line">        &lt;i class="fab fa-weixin"&gt;&lt;/i&gt;</span><br><span class="line">    &lt;/a&gt;</span><br><span class="line">&lt;% } %&gt;</span><br></pre></td></tr></tbody></table></figure>
<h3 id="6-版本记录"><a class="markdownIt-Anchor" href="#6-版本记录"></a> 6. 版本记录</h3>
<ul>
<li>
<p>v1.2.2</p>
<ul>
<li>新增了自定义文章 keywords 的功能；</li>
<li>新增静态彩带点击切换的功能和配置；</li>
<li>将文章字数统计、彩带和站点运行时间等功能默认设置为 false；</li>
<li>修改了文章的 description 的 meta 属性优先读取文章的 summary 属性；</li>
<li>修改了文章标题的 HTML 标签，从 div 改成了 h1 标题；</li>
<li>修改了页脚年份显示不正确的问题；</li>
<li>去掉了站点运行时间中多余的 setTimeout 代码；</li>
</ul>
</li>
<li>
<p>v1.2.1</p>
</li>
<li>
<p>新增了 TOC 的展开目录层级设置和滚动条功能，防止目录较多的时候目录溢出；</p>
</li>
<li>
<p>修改了首页的展示方式为以前的模式；</p>
</li>
<li>
<p>修复首页按钮没有边框的问题；</p>
</li>
<li>
<p>修复了音乐及吸底模式、视频、推荐文章等不激活时仍然生成首页卡片的问题；</p>
</li>
<li>
<p>修复 wordCount 插件未安装的问题，修改了部分配置；</p>
</li>
<li>
<p>修复音乐的 JSON 配置中有单引号的情况页面不显示的音乐的问题</p>
</li>
<li>
<p>修复标签云在Hexo4.0下链接失效的问题；</p>
</li>
<li>
<p>v1.2.0</p>
</li>
<li>
<p>新增了 DaoVoice、Tidio 的在线聊天功能；</p>
</li>
<li>
<p>新增了两级菜单的功能；</p>
</li>
<li>
<p>新增了打字效果的副标题；</p>
</li>
<li>
<p>新增了网页内容预加载的功能；</p>
</li>
<li>
<p>新增了首页 banner 是否每日切换的配置功能；</p>
</li>
<li>
<p>新增了显示 ICP 备案信息的功能，默认未开启；</p>
</li>
<li>
<p>新增了百度分析的配置；</p>
</li>
<li>
<p>新增了代码块的语言显示、一键复制、显示行号等功能；</p>
</li>
<li>
<p>新增了首页轮播图和推荐文章可自定义配置的功能；</p>
</li>
<li>
<p>新增了文章页面显示更新日期；</p>
</li>
<li>
<p>新增了转载规则的图标；</p>
</li>
<li>
<p>修改了分享的布局和显示方式；</p>
</li>
<li>
<p>升级更新了部分依赖库的版本；</p>
</li>
<li>
<p>其他细节修改和优化；</p>
</li>
<li>
<p>v1.1.0</p>
<ul>
<li>新增了 emoji 的支持；</li>
<li>新增了站点运行时间统计及配置；</li>
<li>新增了留言板的功能,默认未开启；</li>
<li>新增了 Twitter、Facebook、知乎的社交链接；</li>
<li>更新了 Valine 的版本为最新版；</li>
<li>其他小细节的修改；</li>
</ul>
</li>
<li>
<p>v1.0.4</p>
<ul>
<li>新增了能为每篇文章都自定义转载规则的功能；</li>
<li>修复上一页、下一页的自定义 summary 不显示的问题；</li>
<li>修复了友情链接显示错位的问题，改为了瀑布流的布局方式；</li>
<li>其他小细节 bug 的修改；</li>
</ul>
</li>
<li>
<p>v1.0.3</p>
<ul>
<li>新增了TOC展开、收缩的按钮和相关配置，默认显示此按钮；</li>
</ul>
</li>
<li>
<p>v1.0.2</p>
<ul>
<li>升级了 Materialize 框架版本为1.0.0，重构和修改了升级过程中的部分文件或问题；</li>
<li>新增了首页封面的全屏轮播特效，可以将更重要的文章设置到首页轮播中；</li>
<li>修复首页第一个按钮是中文的问题</li>
<li>修复了 iPhone 上点击搜索输入获取焦点的问题；</li>
<li>修复了 iPhone 上输入框获取焦点后页面放大的问题；</li>
<li>修复一些文章或 UI 显示问题；</li>
</ul>
</li>
<li>
<p>v1.0.1</p>
<ul>
<li>调整 css、js 的文件请求路径在主题的config.yml中配置，便于你更快捷的配置自己的 CDN；</li>
<li>新增代码是否折行为可配置，默认为折行；</li>
<li>默认激活 TOC 功能，并新增为某篇文章关闭 TOC 的 Front-matter 配置选项；</li>
<li>修复文章滚动时，高亮的目录选项不准确的问题；</li>
<li>IOS下移除搜索框自动获得焦点属性，防止自动获得焦点后导致视图上移；</li>
</ul>
</li>
<li>
<p>v1.0.0</p>
</li>
<li>
<p>新增了所有基础功能；</p>
</li>
</ul>
<h2 id="六-其他一些diy可选"><a class="markdownIt-Anchor" href="#六-其他一些diy可选"></a> 六 其他一些DIY(可选)</h2>
<blockquote>
<p>主题DIY会涉及到js文件和css文件等的修改，个人建议新增的js文件放在themes/matery/layout/layout.ejs这个文件下，这样会稍微加快博客访问的速度。不想花钱最好的方式是使用cdn.jsdeliver。以后会说到。</p>
</blockquote>
<h3 id="1-动态标题"><a class="markdownIt-Anchor" href="#1-动态标题"></a> 1. 动态标题</h3>
<p>先放上效果图再说：</p>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200605105900.png" alt="离开当前页面时"></p>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200605110047.png" alt="返回当前页面时"></p>
<p>实现方法，引入js文件，在主题文件下的**/source/js/<strong>下新建</strong>FunnyTitle.js**，然后在添加到<strong>themes/matery/layout/layout.ejs</strong>或者添加到<strong>themes/matery/layout/_partial/head.ejs</strong>，其代码如下：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">&lt;!--浏览器搞笑标题--&gt;</span><br><span class="line"> var OriginTitle = document.title;</span><br><span class="line"> var titleTime;</span><br><span class="line"> document.addEventListener('visibilitychange', function () {</span><br><span class="line">     if (document.hidden) {</span><br><span class="line">         $('[rel="icon"]').attr('href',"https://cdn.jsdelivr.net/gh/tlhg0/blogimage/images/favicon.png");</span><br><span class="line">         document.title = 'ヽ(●-`Д´-)ノ你要玩捉迷藏嘛';</span><br><span class="line">         clearTimeout(titleTime);</span><br><span class="line">     }</span><br><span class="line">     else {</span><br><span class="line">         $('[rel="icon"]').attr('href',"https://cdn.jsdelivr.net/gh/tlhg0/blogimage/images/favicon.png");</span><br><span class="line">         document.title = 'ヾ(Ő∀Ő3)ノ好哦！' + OriginTitle;</span><br><span class="line">         titleTime = setTimeout(function () {</span><br><span class="line">             document.title = OriginTitle;</span><br><span class="line">         }, 2000);</span><br><span class="line">     }</span><br><span class="line"> });</span><br></pre></td></tr></tbody></table></figure>
<p>或者直接在themes/matery/layout/layout.ejs文件中添加如下代码：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">&lt;script type="text/javascript"&gt;</span><br><span class="line">    var OriginTitile=document.title,st;</span><br><span class="line">    document.addEventListener("visibilitychange",function(){</span><br><span class="line">        document.hidden?(document.title="ヽ(●-`Д´-)ノ你要玩捉迷藏嘛",clearTimeout(st)):(document.title="(Ő∀Ő3)ノ好哦！",st=setTimeout(function(){document.title=OriginTitile},3e3))</span><br><span class="line">    })</span><br><span class="line">&amp;rt/script&amp;gt</span><br></pre></td></tr></tbody></table></figure>
<h3 id="2-修改导航栏颜色以及透明效果"><a class="markdownIt-Anchor" href="#2-修改导航栏颜色以及透明效果"></a> 2. 修改导航栏颜色以及透明效果</h3>
<p>打开<strong>themes/matery/source/css/matery.css</strong>文件，大约在250行，有一个**.bg-color**属性，修改其属性值即可，代码如下：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">.bg-color {</span><br><span class="line">    background-image: linear-gradient(to right, #4cbf30 0%, #0f9d58 100%); //修改成自己喜欢的颜色值</span><br><span class="line">    opacity: 0.8;  //透明效果 值范围 0~1，看情况自己修改</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h3 id="3-添加动态诗词"><a class="markdownIt-Anchor" href="#3-添加动态诗词"></a> 3. 添加动态诗词</h3>
<p>采用的是<a target="_blank" rel="noopener" href="https://www.jinrishici.com/">今日诗词</a>，每次返回一句诗词，根据时间、地点、天气、事件智能推荐。官网有API文档，可以去看一下，有多种安装方式，最简单的方式就是从官网获取代码，在**/themes/matery/layout/_partial/head.ejs**添加下面的一行代码：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">&lt;script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"&gt;&lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>
<p>然后再将**/themes/matery/layout/_partial/bg-cover-content.ejs<strong>中的</strong>&lt;%= config.description %&gt;<strong>修改为把</strong>&lt;%= config.description %&gt;<strong>改为</strong>&lt;%- ‘正在加载今日诗词…’ %&gt;<strong>，这个使用前提是将主题配置文件的</strong>subtitle<strong>的值改为</strong>false**。</p>
<h3 id="4-鼠标点击文字特效"><a class="markdownIt-Anchor" href="#4-鼠标点击文字特效"></a> 4. 鼠标点击文字特效</h3>
<p>实现方法，引入js文件，在主题文件下的**/source/js/<strong>下新建</strong>click_show_text.js**，其代码如下：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">var a_idx = 0;</span><br><span class="line">jQuery(document).ready(function ($) {</span><br><span class="line">    $("body").click(function (e) {</span><br><span class="line">        var a = new Array("富强", "民主", "文明", "和谐", "自由", "平等", "公正", "法治", "爱国", "敬业", "诚信", "友善");</span><br><span class="line">        var $i = $("&lt;span/&gt;").text(a[a_idx]);</span><br><span class="line">        a_idx = (a_idx + 1) % a.length;</span><br><span class="line">        var x = e.pageX,</span><br><span class="line">            y = e.pageY;</span><br><span class="line">        $i.css({</span><br><span class="line">            "z-index": 5,</span><br><span class="line">            "top": y - 20,</span><br><span class="line">            "left": x,</span><br><span class="line">            "position": "absolute",</span><br><span class="line">            "font-weight": "bold",</span><br><span class="line">            "color": "#FF0000"</span><br><span class="line">        });</span><br><span class="line">        $("body").append($i);</span><br><span class="line">        $i.animate({</span><br><span class="line">                "top": y - 180,</span><br><span class="line">                "opacity": 0</span><br><span class="line">            },</span><br><span class="line">            3000,</span><br><span class="line">            function () {</span><br><span class="line">                $i.remove();</span><br><span class="line">            });</span><br><span class="line">    });</span><br><span class="line">    setTimeout('delay()', 2000);</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line">function delay() {</span><br><span class="line">    $(".buryit").removeAttr("onclick");</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h3 id="5-添加天气小插件"><a class="markdownIt-Anchor" href="#5-添加天气小插件"></a> 5. 添加天气小插件</h3>
<p>首先去<a target="_blank" rel="noopener" href="https://cj.weather.com.cn/plugin/pc">中国天气官网：</a>，配置自己的插件，选择自定义插件—&gt;自定义样式——&gt;生成代码，然后会生成一段代码，复制粘贴到<strong>themes/matery/layout/layout.ejs</strong>即可。</p>
<h3 id="6-关于我页面添加个人简历"><a class="markdownIt-Anchor" href="#6-关于我页面添加个人简历"></a> 6. 关于我页面添加个人简历</h3>
<p>打开<strong>theme/matery/layout/about.ejs</strong>文件，大约在13行。有一个``标签，找出其对应结尾的标签，大约在61行左右，然后在新增如下代码：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">&lt;div class="card"&gt;</span><br><span class="line">     &lt;div class="card-content"&gt;</span><br><span class="line">         &lt;div class="card-content article-card-content"&gt;</span><br><span class="line">             &lt;div class="title center-align" data-aos="zoom-in-up"&gt;</span><br><span class="line">                 &lt;i class="fa fa-address-book"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;&lt;%- __('个人简历') %&gt;</span><br><span class="line">              &lt;/div&gt;</span><br><span class="line">                 &lt;div id="articleContent" data-aos="fade-up"&gt;</span><br><span class="line">                     &lt;%- page.content %&gt;</span><br><span class="line">                 &lt;/div&gt;</span><br><span class="line">           &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></tbody></table></figure>
<p>注意粘贴的位置和空格要正确，这里的位置随你自己设置，你也可以把简历作为第一个card，然后**/source/about/index.md**下面写上你的简历了（就像写博客一样）。</p>
<h3 id="7-豆瓣书单电影页面"><a class="markdownIt-Anchor" href="#7-豆瓣书单电影页面"></a> 7. 豆瓣书单电影页面</h3>
<blockquote>
<p>注意：首先需要检查你的hexo版本是多少，在你的博客目录下执行命令 hexo -v 即可，这个豆瓣插件需要的版本需要&lt;4.2.0，否则会出现bug，比如点击书单的在读，想读或者已读会出现一个新的弹出页面，解决办法就是降低hexo的版本，先卸载目前的hexo版本，再安装4.0.0版本的hexo即可，我的版本为4.0.0。</p>
</blockquote>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">npm uninstall hexo</span><br><span class="line">npm install hexo@4.0.0 -g</span><br></pre></td></tr></tbody></table></figure>
<ol>
<li>首先在博客站点目录执行下面的命令安装豆瓣插件：</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">npm install hexo-douban --save</span><br></pre></td></tr></tbody></table></figure>
<p>紧接着在博客站点目录的配置文件**_config.yml**下，添加如下配置：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">douban: </span><br><span class="line">  user: 252345665    #这个需要修改为你个人的id  </span><br><span class="line">  builtin: false   #如果想生成豆瓣页面，这个需要设置为true</span><br><span class="line">  book: </span><br><span class="line">    title: 'This is my book title' </span><br><span class="line">    quote: 'This is my book quote' </span><br><span class="line">  movie: </span><br><span class="line">    title: 'This is my movie title' </span><br><span class="line">    quote: 'This is my movie quote' </span><br><span class="line">  game: </span><br><span class="line">    title: 'This is my game title' </span><br><span class="line">    quote: 'This is my game quote' </span><br><span class="line">  timeout: 10000</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>user:：你的豆瓣ID。打开豆瓣，登入账户，然后在右上角点击 ”个人主页“，这时候地址栏的URL大概是这样：<a target="_blank" rel="noopener" href="https://www.douban.com/people/xxxxxx/">https://www.douban.com/people/xxxxxx/</a> ，其中的”xxxxxx”就是你的个人ID了。</li>
<li>builtin：是否将生成页面的功能嵌入 hexo s 和 hexo g 中，默认是 false ，另一可选项为 true 。</li>
<li>title： 该页面的标题。</li>
<li>quote： 写在页面开头的一段话,支持html语法。</li>
<li>timeout： 爬取数据的超时时间，默认是 10000ms，如果在使用时发现报了超时的错(ETIMEOUT)可以把这个数据设置的大  一点。</li>
</ul>
<p>如果只想显示某一个页面(比如movie)，那就把其他的配置项注释掉即可。</p>
<ol>
<li>然后再主题配置文件<strong>config.yml</strong>中添加关于此页面的菜单：(下面是我的配置)</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">menu:</span><br><span class="line">    媒体:</span><br><span class="line">       url: /</span><br><span class="line">       icon: fas fa-list</span><br><span class="line">       children:</span><br><span class="line">         - name: 电影</span><br><span class="line">           url: /movies</span><br><span class="line">           icon: fas fa-film</span><br><span class="line">         - name: 书单</span><br><span class="line">           url: /books</span><br><span class="line">           icon: fas fa-book</span><br><span class="line">         - name: 游戏</span><br><span class="line">           url: /games</span><br><span class="line">           icon: fas fa-gamepad</span><br></pre></td></tr></tbody></table></figure>
<ol start="2">
<li>适配Matery主题：在 <strong>/themes/hexo-theme-matery/layout</strong> 文件夹下面创建一个名为** douban.ejs **的文件，并将下面的内容复制进去：</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">&lt;%- partial('_partial/post-cover') %&gt; </span><br><span class="line">&lt;style&gt; </span><br><span class="line">    .hexo-douban-picture img {</span><br><span class="line">        width: 100%; </span><br><span class="line">    } </span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;main class="content"&gt; </span><br><span class="line">    &lt;div id="contact" class="container chip-container"&gt; </span><br><span class="line">        &lt;div class="card"&gt; </span><br><span class="line">            &lt;div class="card-content" style="padding: 30px"&gt; </span><br><span class="line">                &lt;h1 style="margin: 10px 0 10px 0px;"&gt;&lt;%= page.title %&gt;&lt;/h1&gt; </span><br><span class="line">                &lt;%- page.content %&gt; </span><br><span class="line">            &lt;/div&gt; </span><br><span class="line">        &lt;/div&gt; </span><br><span class="line">        &lt;div class="card"&gt; </span><br><span class="line">            &lt;div class="card-content" style="text-align: center"&gt; </span><br><span class="line">                &lt;h3 style="margin: 5px 0 5px 5px;"&gt;如果你有好的内容推荐，欢迎在下面留言！&lt;/h3&gt; </span><br><span class="line">            &lt;/div&gt; </span><br><span class="line">        &lt;/div&gt; </span><br><span class="line">        &lt;div class="card"&gt; </span><br><span class="line">            &lt;% if (theme.gitalk &amp;&amp; theme.gitalk.enable) { %&gt;</span><br><span class="line">                &lt;%- partial('_partial/gitalk') %&gt;</span><br><span class="line">            &lt;% } %&gt; </span><br><span class="line">            &lt;% if (theme.gitment.enable) { %&gt; </span><br><span class="line">                &lt;%- partial('_partial/gitment') %&gt; </span><br><span class="line">            &lt;% } %&gt; </span><br><span class="line">            &lt;% if (theme.disqus.enable) { %&gt; </span><br><span class="line">                &lt;%- partial('_partial/disqus') %&gt; </span><br><span class="line">            &lt;% } %&gt; </span><br><span class="line">            &lt;% if (theme.livere &amp;&amp; theme.livere.enable) { %&gt; </span><br><span class="line">                &lt;%- partial('_partial/livere') %&gt; </span><br><span class="line">            &lt;% } %&gt; </span><br><span class="line">            &lt;% if (theme.valine &amp;&amp; theme.valine.enable) { %&gt; </span><br><span class="line">                &lt;%- partial('_partial/valine') %&gt; </span><br><span class="line">            &lt;% } %&gt; </span><br><span class="line">        &lt;/div&gt; </span><br><span class="line">    &lt;/div&gt; </span><br><span class="line">&lt;/main&gt;</span><br></pre></td></tr></tbody></table></figure>
<ol start="3">
<li>然后在博客站点目录下的<strong>node_modules</strong>文件夹下找到<strong>hexo-douban/lib</strong>，文件夹下有三个js文件，分别为：<strong>books-generator.js</strong> 、<strong>games-generator.js</strong> 、<strong>movies-generator.js</strong>，用文本编辑器打开这三个文件，并将其文件内容末尾的代码修改为一下内容：</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">/* 原文件内容为 layout: [`page`, `post`] ，将其修改为下面的内容*/</span><br><span class="line">layout: [`page`, `douban`]</span><br></pre></td></tr></tbody></table></figure>
<ol start="4">
<li>最后就是使用并生成相应的页面，执行命令如下:</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">hexo douban</span><br></pre></td></tr></tbody></table></figure>
<p>需要注意的是，通常大家都喜欢用 hexo d 来作为 hexo deploy 命令的简化，但是当安装了 hexo douban 之后，就不能用 hexo d 了，因为 hexo douban 跟 hexo deploy 的前缀都是 hexo d ，你以后执行的 hexo d 将不再是 Hexo 页面的生成，而是豆瓣页面的生成。</p>
<p>以下是可选的命令参数：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">-h, --help    # 帮助页面</span><br><span class="line">-b, --books   # 只生成书单页面</span><br><span class="line">-g, --games   # 只生成游戏页面</span><br><span class="line">-m, --movies  # 只生成电影页面</span><br></pre></td></tr></tbody></table></figure>
<p><strong>当站点配置文件的builtin的值为true时，生成页面的功能会嵌入到hexo g和hexo s中，在进行部署生成操作，会自动生成相应的页面。</strong></p>
<h3 id="8-外链跳转插件"><a class="markdownIt-Anchor" href="#8-外链跳转插件"></a> 8. 外链跳转插件</h3>
<blockquote>
<p>hexo-external-link是一个跳转外链相关插件。自动为所有html文件中外链的a标签生成对应的属性。 比如 设置**target=’_blank’, rel=’external nofollow noopener noreferrer’ **告诉搜索引擎这是外部链接,不要将该链接计入权重。 同时自动生成外链跳转页面,默认在根目录下 go.html;</p>
</blockquote>
<p>使用 npm 或者 yarn 安装</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">## npm 安装</span><br><span class="line">npm install hexo-external-link --save</span><br><span class="line">## yarn 安装</span><br><span class="line">yarn add hexo-external-link</span><br></pre></td></tr></tbody></table></figure>
<p>之后再hexo博客站点根目录下添加如下配置：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">hexo_external_link:</span><br><span class="line">  enable: true</span><br><span class="line">  enable_base64_encode: true</span><br><span class="line">  url_param_name: 'u'</span><br><span class="line">  html_file_name: 'go.html'</span><br><span class="line">  target_blank: true</span><br><span class="line">  link_rel: 'external nofollow noopener noreferrer'</span><br><span class="line">  domain: 'your_domain' # 如果开启了防盗链，填写你的域名</span><br><span class="line">  safety_chain: true</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>enable - 是否开启hexo_external_link插件 - 默认 false</li>
<li>enable_base64_encode - 是否对跳转url使用base64编码 - 默认 fasle</li>
<li>url_param_name - url参数名,在跳转到外链传递给html_file_name的参数名 - 默认 ‘u’</li>
<li>html_file_name - 跳转到外链的页面文件路径 - 默认 ‘go.html’</li>
<li>target_blank - 是否为外链的a标签添加target=’_blank’ - 默认 true</li>
<li>link_rel - 设置外链的a标签的rel属性 - 默认 ‘external nofollow noopener noreferrer’</li>
<li>domain - 如果开启了防盗链,除了 localhost 和 domain(你的域名) 之外调用会跳到主页,同时也是判断链接是否为外链的依据 - 默认 window.location.host</li>
<li>safety_chain - go.html 为了防止外链盗用 对域名进行的判断 - 默认 false</li>
</ul>
<h3 id="9添加动态科技线条背景"><a class="markdownIt-Anchor" href="#9添加动态科技线条背景"></a> 9.添加动态科技线条背景</h3>
<p>在themes/matery/layout/layout.ejs文件中添加如下代码：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">&lt;!--动态线条背景--&gt;</span><br><span class="line">&lt;script type="text/javascript"</span><br><span class="line">color="122 103 238" opacity='0.7' zIndex="-2" count="200" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"&gt;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>
<p>其中：</p>
<ul>
<li>color：表示线条颜色，三个数字分别为(R,G,B)，默认：（0,0,0）</li>
<li>opacity：表示线条透明度（0~1），默认：0.5</li>
<li>count：表示线条的总数量，默认：150</li>
<li>zIndex：表示背景的z-index属性，css属性用于控制所在层的位置，默认：-1</li>
</ul>
<h3 id="10-添加鼠标点击烟花爆炸效果"><a class="markdownIt-Anchor" href="#10-添加鼠标点击烟花爆炸效果"></a> 10. 添加鼠标点击烟花爆炸效果</h3>
<p>首先在<strong>themes/matery/source/js</strong>目录下新建<strong>fireworks.js</strong>文件，打开这个网址<a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/Yafine/cdn@3.3.1/source/js/fireworks.js">传送门</a>,将内容复制粘贴到**fireworks.js即可。</p>
<h3 id="11-添加樱花飘落效果"><a class="markdownIt-Anchor" href="#11-添加樱花飘落效果"></a> 11. 添加樱花飘落效果</h3>
<p>在<strong>themes/matery/source/js</strong>目录下新建<strong>sakura.js</strong>文件，打开这个<a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/Yafine/cdn@3.3.1/source/js/fireworks.js">网址传送门</a>，将内容复制粘贴到<strong>sakura.js</strong>即可。</p>
<p>然后再<strong>themes/matery/layout/layout.ejs</strong>文件内添加下面的内容：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">&lt;script type="text/javascript"&gt;</span><br><span class="line">//只在桌面版网页启用特效</span><br><span class="line">var windowWidth = $(window).width();</span><br><span class="line">if (windowWidth &gt; 768) {</span><br><span class="line">    document.write('&lt;script type="text/javascript" src="/js/sakura.js"&gt;&lt;\/script&gt;');</span><br><span class="line">}</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>
<h3 id="12-添加鼠标彩虹星星掉落跟随效果"><a class="markdownIt-Anchor" href="#12-添加鼠标彩虹星星掉落跟随效果"></a> 12. 添加鼠标彩虹星星掉落跟随效果</h3>
<p>在<strong>themes/matery/source/js</strong>目录下新建<strong>cursor.js</strong>文件，打开这个网址<a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/Yafine/cdn@3.3.1/source/js/cursor.js">传送门</a>，将内容复制粘贴到<strong>cursor.js</strong>即可。</p>
<p>然后再<strong>themes/matery/layout/layout.ejs</strong>文件内添加下面的内容：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">&lt;script src="/js/cursor.js"&gt;&lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>
<h3 id="13-添加雪花飘落效果"><a class="markdownIt-Anchor" href="#13-添加雪花飘落效果"></a> 13. 添加雪花飘落效果</h3>
<p>在<strong>themes/matery/source/js</strong>目录下新建<strong>snow.js</strong>文件，打开这个网址<a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/Yafine/cdn@3.3.1/source/js/snow1.js">传送门</a>，将内容复制粘贴到<strong>cursor.js</strong>即可。</p>
<p>然后再<strong>themes/matery/layout/layout.ejs</strong>文件内添加下面的内容：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">&lt;script src="/js/snow.js"&gt;&lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>
<h3 id="14-文章生成永久链接"><a class="markdownIt-Anchor" href="#14-文章生成永久链接"></a> 14. 文章生成永久链接</h3>
<p>主题默认的文章链接配置是</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">permalink: :year/:month/:day/:title</span><br></pre></td></tr></tbody></table></figure>
<p>这种生成的链接地址很长，文章版权的链接地址会出现一大串字符编码，一点也不好看。因此需要修改文章生成链接的格式。</p>
<p>首先到根目录下执行下面的命令：</p>
<p><a target="_blank" rel="noopener" href="https://github.com/rozbo/hexo-abbrlink">hexo-abbrlinkGitHub地址</a></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">npm install hexo-abbrlink --save</span><br></pre></td></tr></tbody></table></figure>
<p>然后再站点配置文件下添加如下配置：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">abbrlink:</span><br><span class="line">    alg: crc16   #算法： crc16(default) and crc32</span><br><span class="line">    rep: hex     #进制： dec(default) and hex: dec #输出进制：十进制和十六进制，默认为10进制。丨dec为十进制，hex为十六进制</span><br></pre></td></tr></tbody></table></figure>
<p>再将站点配置文件的<strong>permalink</strong>的值修改为：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">permalink: posts/:abbrlink.html  # 此处可以自己设置，也可以直接使用 :/abbrlink</span><br></pre></td></tr></tbody></table></figure>
<p>生成文章的链接格式就会是如下样例（官方样例）:</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">crc16 &amp; hex</span><br><span class="line">https://post.zz173.com/posts/66c8.html</span><br><span class="line"></span><br><span class="line">crc16 &amp; dec</span><br><span class="line">https://post.zz173.com/posts/65535.html</span><br><span class="line">crc32 &amp; hex</span><br><span class="line">https://post.zz173.com/posts/8ddf18fb.html</span><br><span class="line"></span><br><span class="line">crc32 &amp; dec</span><br><span class="line">https://post.zz173.com/posts/1690090958.html</span><br></pre></td></tr></tbody></table></figure>
<p>生成完后，原md文件的Front-matter 内会增加<strong>abbrlink 字段</strong>，值为生成的ID 。这个字段确保了在我们修改了<strong>Front-matter</strong> 内的博客标题title或创建日期date字段之后而不会改变链接地址。</p>
<h2 id="七-添加评论系统"><a class="markdownIt-Anchor" href="#七-添加评论系统"></a> 七、添加评论系统</h2>
<p>我只说几个常用的评论系统的配置方法，其他的就不说了。</p>
<h3 id="71-添加来必力评论系统"><a class="markdownIt-Anchor" href="#71-添加来必力评论系统"></a> 7.1 添加来必力评论系统</h3>
<p>首先去<a target="_blank" rel="noopener" href="https://livere.com/">来必力</a>官网，点击导航栏上的安装，会出现如下图的页面：</p>
<p>City 版：是一款适合所有人使用的免费版本；<br>
Premium 版：是一款能够帮助企业实现自动化管理的多功能收费版本。</p>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200605140159.png" alt=""></p>
<p>注册完之后，会提示你填写网站的相关信息，如网站链接，网站名称等等，填写完毕之后，会给你一段代码，如下图所示：</p>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200605140448.png" alt=""></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># Livere comment configuration, the default is not activated</span><br><span class="line"># Livere 来必力评论模块的配置，默认为不激活</span><br><span class="line">livere:</span><br><span class="line">  enable: true   # true即为开启评论系统</span><br><span class="line">  uid: #这里填写你的uid</span><br></pre></td></tr></tbody></table></figure>
<p>然后在执行相关的部署命令，然后查看效果即可。</p>
<h3 id="72-添加valine评论系统"><a class="markdownIt-Anchor" href="#72-添加valine评论系统"></a> 7.2 添加Valine评论系统</h3>
<p><a target="_blank" rel="noopener" href="https://valine.js.org/">Valine</a>官方文档</p>
<p>如果注册过LeanCloud，请点击此处进行<a target="_blank" rel="noopener" href="https://leancloud.cn/dashboard/login.html#/signin">登录</a>，未注册的请点击<a target="_blank" rel="noopener" href="https://leancloud.cn/dashboard/login.html#/signup">注册</a></p>
<p>经过登录或者注册之后再登录，就会进入如下的页面：</p>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200605140803.png" alt=""></p>
<p>创建应用完成后，会出现如下页面，然后点击设置</p>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200605140837.png" alt=""></p>
<p>会出现下面的页面，将其中APPID和APPKey复制，添加到配置文件中。</p>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200605140923.png" alt=""></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># The configuration of the Valine comment module is not activated by default.</span><br><span class="line"># To use it, activate the configuration item and set appId and appKey.</span><br><span class="line"># Valine 评论模块的配置，默认为不激活，如要使用，就请激活该配置项，并设置 appId 和 appKey.</span><br><span class="line">valine:</span><br><span class="line">  enable: false  # true即为开启评论系统</span><br><span class="line">  appId:   #此处填写你的appid</span><br><span class="line">  appKey:  #此处填写你的appkey</span><br><span class="line">  notify: false</span><br><span class="line">  verify: false</span><br><span class="line">  visitor: true</span><br><span class="line">  avatar: 'mm' # Gravatar style : mm/identicon/monsterid/wavatar/retro/hide</span><br><span class="line">  pageSize: 10</span><br><span class="line">  placeholder: 'just go go' # Comment Box placeholder</span><br><span class="line">  background:  https://cdn.jsdelivr.net/gh/Yafine/cdn@3.1.1/social/comment_bg.png</span><br></pre></td></tr></tbody></table></figure>
<p>然后执行相关部署命令，查看效果即可。</p>
<h3 id="73-添加gitalk评论模块"><a class="markdownIt-Anchor" href="#73-添加gitalk评论模块"></a> 7.3 添加Gitalk评论模块</h3>
<p>首先去这个地方看一下Gitalk的效果吧！<a target="_blank" rel="noopener" href="https://gitalk.github.io/">传送门</a></p>
<p>安装步骤如下：</p>
<ol>
<li>注册 OAuth Application<br>
当别人评论你的文章时，会需要它是授权。点击<a target="_blank" rel="noopener" href="https://github.com/settings/applications/new">注册 OAuth Application</a>进行注册，注册界面如下：</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200605141218.png" alt=""></p>
<ul>
<li>Application name：应用名称，自己随意起名。</li>
<li>Homepage URL：博客主页地址，如果有域名，此处填写域名，无域名，填写你的默认github地址：如    <a target="_blank" rel="noopener" href="https://username.github.io">https://username.github.io</a>。</li>
<li>Application description：应用描述，可选，可以写也可以不写。</li>
<li>Authorization callback URL：授权后返回的地址，需要与Homepage URL一致。</li>
</ul>
<p>点击 Register application（注册）会出现 Client ID/Secret，接下来就是将信息填入配置文件中。</p>
<p>Client ID 和 Client Secret的值要复制下来</p>
<ol>
<li>
<p>新建GitHub仓库<br>
新建仓库就不在多说了，相信大家都会，如果不会的话，上面有写。</p>
</li>
<li>
<p>配置 <strong>config.yml</strong> 文件</p>
</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># the Gitalk config，default disabled</span><br><span class="line"># Gitalk 评论模块的配置，默认为不激活</span><br><span class="line">gitalk:</span><br><span class="line">  enable: true    # true即开启评论模块</span><br><span class="line">  owner: Yafine  # 填写你的 github 账户名即可</span><br><span class="line">  repo: Yafine-gitalks   # 新建一个仓库或者使用博客托管的仓库也可</span><br><span class="line">  oauth:</span><br><span class="line">    clientId: #填写你的clientId</span><br><span class="line">    clientSecret:  #填写你的clientSecret</span><br><span class="line">  admin: Yafine  #填写你的 github 账户名即可</span><br></pre></td></tr></tbody></table></figure>
<ol start="3">
<li>然后再进行部署步骤即可，第一次查看效果需要登录github账号，关联授权后，就可以使用评论系统了。</li>
</ol>
<blockquote>
<p>友情提醒：开启这个评论系统会对主题中的表格有影响，所以根据个人喜好决定是否开启。</p>
</blockquote>
<h3 id="74-添加disqus评论模块"><a class="markdownIt-Anchor" href="#74-添加disqus评论模块"></a> 7.4 添加Disqus评论模块</h3>
<p>还在完善，这个貌似得通过特殊途径才能注册。有时间再写吧。</p>
<p>你也可以参考这位作者的文档，作者自己搭建的代理：<a target="_blank" rel="noopener" href="https://disqusjs.skk.moe/">https://disqusjs.skk.moe/</a></p>
<h2 id="八-域名解析与绑定"><a class="markdownIt-Anchor" href="#八-域名解析与绑定"></a> 八、域名解析与绑定</h2>
<p>域名的购买流程我就不说了，相信大家应该都会购买吧，一般都会去阿里云或者腾讯云购买域名。下面就简单的说一下，如何绑定域名并进行解析。</p>
<p>在这里以阿里云解析为例（我的域名是在阿里云购买的），登录阿里云的控制台，进入到域名管理页面，然后点击解析，进行域名的解析，如下图所示：</p>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200605141931.png" alt=""></p>
<p>进入云解析列表，添加记录值如下图所示：</p>
<p>IP地址可以提供cmd命令得到，命令为ping <a target="_blank" rel="noopener" href="http://username.github.com">username.github.com</a>，会得到来自xxx.xxx.xxx.xxx的回复，这个就是github的IP地址，将得到的IP地址填入记录值即可，如下图所示。</p>
<p><img src="https://cdn.jsdelivr.net/gh/tlhg-0/blogimage/images/20200605142055.png" alt=""></p>
<blockquote>
<p>上面第一个行的线路类型第一次先选择默认，上面的境外路线，这是我后来配置的双部署，国内访问走coding路线，国外访问走GitHub路线。</p>
</blockquote>
<p><strong>说明：</strong></p>
<p>以我的域名为例：tlhg.top</p>
<blockquote>
<p>提示：要解析www.tlhg.top, 请填写 www。主机记录就是域名前缀，常见用法如下：</p>
</blockquote>
<table>
<thead>
<tr>
<th>主机记录</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>www</td>
<td>解析后的域名为www.tlhg.top</td>
</tr>
<tr>
<td>@</td>
<td>直接解析主域名tlhg.top</td>
</tr>
<tr>
<td>*</td>
<td>泛解析，匹配其他所有域名*.tlhg.top</td>
</tr>
<tr>
<td>mail</td>
<td>将域名解析为mail.tlhg.top，通常用于解析邮箱服务器</td>
</tr>
<tr>
<td>二级域名</td>
<td>如abc..tlhg.top，填写abc</td>
</tr>
<tr>
<td>手机网站</td>
<td>如m.tlhg.top，填写m</td>
</tr>
</tbody>
</table>
<blockquote>
<p>提示:<br>
将域名指向云服务器，请选择**「A」<strong>； 将域名指向另一个域名，请选择</strong>「CNAME」<strong>； 建立邮箱请选择</strong>「MX」**，根据邮箱服务商提供的MX记录填写。</p>
</blockquote>
<table>
<thead>
<tr>
<th>主机记录</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>用来指定域名的IPv4地址（如8.8.8.8），如果需要将域名指向一个IP地址，就需要添加A记录。</td>
</tr>
<tr>
<td>CNAME</td>
<td>如果需要将域名指向另一个域名，再由另一个域名提供IP地址，就需要添加CNAME记录。</td>
</tr>
<tr>
<td>MX</td>
<td>如果需要设置邮箱，让邮箱能收到邮件，就需要添加MX记录。</td>
</tr>
<tr>
<td>TXT</td>
<td>在这里可以填写任何东西，长度限制255。绝大多数的TXT记录是用来做SPF记录（反垃圾邮件）</td>
</tr>
<tr>
<td>NS</td>
<td>域名服务器记录，如果需要将子域名交给其他DNS服务商解析，就需要添加NS记录。</td>
</tr>
<tr>
<td>AAAA</td>
<td>用来指定主机名（或域名）对应的IPv6地址（例如：ff06:0:0:0:0:0:0:c3）记录。</td>
</tr>
<tr>
<td>SRV</td>
<td>记录了哪台计算机提供了哪个服务。格式为：服务的名字、点、协议的类型，例如：_xmpp-server_tcp。</td>
</tr>
<tr>
<td>SRV</td>
<td>从一个地址301重定向到另一个地址的时候，就需要添加显性URL记录（注：DNSPod目前只支持301重定向）。</td>
</tr>
<tr>
<td>SRV</td>
<td>类似于显性URL，区别在于隐性URL不会改变地址栏的域名。</td>
</tr>
</tbody>
</table>
<blockquote>
<p>注意：在这之前需要在站点根目录的source目录下新建一个CNAME文件，里面写入自己的域名，然后保存，在进行如下的步骤。这样到最后当你在地址栏输入xxx.github.io时，才会自动跳转到你的域名。</p>
</blockquote>
<p>然后在你的GitHub仓库的设置里找到GitHub Pages页面，将你的域名填到Custom domain选项下，强制开启https，即当你在地址栏输入域名，会自动识别域名为https开头。然后进行保存。</p>
<h2 id="九-博客优化"><a class="markdownIt-Anchor" href="#九-博客优化"></a> 九、 博客优化</h2>
<h3 id="1-图片懒加载"><a class="markdownIt-Anchor" href="#1-图片懒加载"></a> 1. 图片懒加载</h3>
<blockquote>
<p>知识小课堂：图片加载方式有两种，一个是预加载，另一个就是懒加载，那你了解什么是预加载和懒加载吗？下面来学习一下。</p>
</blockquote>
<p>参考：<a target="_blank" rel="noopener" href="https://blog.csdn.net/alex8046/article/details/50388050">图片预加载与图片懒加载（缓载）的区别与实现</a></p>
<ul>
<li>图片预加载：顾名思义，图片预加载就是在网页全部加载之前，提前加载图片。当用户需要查看时可直接从本地缓存中渲染，以提供给用户更好的体验，减少等待的时间。否则，如果一个页面的内容过于庞大，没有使用预加载技术的页面就会长时间的展现为一片空白，这样浏览者可能以为图片预览慢而没兴趣浏览，把网页关掉，这时，就需要图片预加载。当然这种做法实际上牺牲了服务器的性能换取了更好的用户体验。</li>
<li>图片懒加载（缓载）：延迟加载图片或符合某些条件时才加载某些图片。这样做的好处是减少不必要的访问数据库或延迟访问数据库的次数，因为每次访问数据库都是比较耗时的即只有真正使用该对象的数据时才会创建。懒加载的主要目的是作为服务器前端的优化，减少请求数或延迟请求数。</li>
</ul>
<p><strong>预加载与懒加载的区别之处：</strong></p>
<p>两者的行为是相反的，一个是提前加载，一个是迟缓甚至不加载。懒加载对服务器前端有一定的缓解压力作用，预载则会增加服务器前端压力。</p>
<p>使用图片懒加载需要安装插件：<a target="_blank" rel="noopener" href="https://github.com/Troy-Yang/hexo-lazyload-image">hexo-lazyload-image</a></p>
<p>在站点根目录执行下面的命令：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">npm install hexo-lazyload-image --save</span><br></pre></td></tr></tbody></table></figure>
<p>之后在站点配置文件下添加下面的代码：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">lazyload:</span><br><span class="line">  enable: true  # 是否开启图片懒加载</span><br><span class="line">  onlypost: false  # 是否只对文章的图片做懒加载</span><br><span class="line">  loadingImg: # eg ./images/loading.gif</span><br></pre></td></tr></tbody></table></figure>
<p>最后执行<strong>hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</strong>就可以看到效果了。</p>
<h3 id="懒加载优化"><a class="markdownIt-Anchor" href="#懒加载优化"></a> 懒加载优化</h3>
<blockquote>
<p>经过以上操作就已经很完美了，以下内容可做可不做</p>
</blockquote>
<ul>
<li>
<p>其实第一次加载后本地都是有缓存的，如果每次都把loading显示出来就不那么好看</p>
</li>
<li>
<p>所以我们需要对插件进行魔改，让图片稍微提前加载，避开加载动画</p>
</li>
<li>
<p>打开 <strong>Hexo根目录&gt;node_modules &gt; hexo-lazyload-image &gt; lib &gt; simple-lazyload.js</strong>文件</p>
</li>
<li>
<p>第9行修改为：</p>
</li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="code"><pre><span class="line">&amp;&amp; rect.<span class="property">top</span> &lt;= (<span class="variable language_">window</span>.<span class="property">innerHeight</span> +<span class="number">240</span> || <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">clientHeight</span> +<span class="number">240</span>)</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>作用：提前240个像素加载图片；当然这个值也可以根据自己情况修改</li>
</ul>
<p>参考：<a target="_blank" rel="noopener" href="https://blog.sky03.cn/posts/42790.html#toc-heading-5">https://blog.sky03.cn/posts/42790.html#toc-heading-5</a></p>
<h3 id="2-代码压缩"><a class="markdownIt-Anchor" href="#2-代码压缩"></a> 2. 代码压缩</h3>
<h4 id="方法一gulp代码压缩"><a class="markdownIt-Anchor" href="#方法一gulp代码压缩"></a> 方法一：gulp代码压缩</h4>
<p>因为hexo生成的html、css、js等都有很多的空格或者换行，而空格和换行也是占用字节的，所以需要将空格换行去掉也就是我要进行的“压缩”。</p>
<p>有人说空格换行能占多少字节？确实占不了多少，但是一个人访问是这么多字节，那么一百人，一万人呢？加起来这量就不少了吧，这都是流量啊！这也是很多css/js文件的后缀为.min.js或.min.css的原因。虽然我们可能没那么多访问量，但是能减小一点资源文件的大小也是对访问速度有那么一点提升的。</p>
<p>我们采用gulp代码压缩方式。</p>
<p>使用方法：</p>
<ol>
<li>进入站点根目录下依次执行下面的命令：</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># 全局安装gulp模块</span><br><span class="line">npm install gulp -g</span><br><span class="line"># 安装各种小功能模块  执行这步的时候，可能会提示权限的问题，最好以管理员模式执行</span><br><span class="line">npm install gulp gulp-htmlclean gulp-htmlmin gulp-minify-css gulp-uglify gulp-imagemin --save</span><br><span class="line"># 额外的功能模块</span><br><span class="line">npm install gulp-debug gulp-clean-css gulp-changed gulp-if gulp-plumber gulp-babel babel-preset-es2015 del @babel/core --save</span><br></pre></td></tr></tbody></table></figure>
<ol start="2">
<li>在Hexo根目录新建文件 gulpfile.js，并复制以下内容到文件中，有中文注释，可以根据自己需求修改。（注意：文件名不能错，一定为gulpfile.js，否则会出错！）</li>
</ol>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">var gulp = require("gulp");</span><br><span class="line">var debug = require("gulp-debug");</span><br><span class="line">var cleancss = require("gulp-clean-css"); //css压缩组件</span><br><span class="line">var uglify = require("gulp-uglify"); //js压缩组件</span><br><span class="line">var htmlmin = require("gulp-htmlmin"); //html压缩组件</span><br><span class="line">var htmlclean = require("gulp-htmlclean"); //html清理组件</span><br><span class="line">var imagemin = require("gulp-imagemin"); //图片压缩组件</span><br><span class="line">var changed = require("gulp-changed"); //文件更改校验组件</span><br><span class="line">var gulpif = require("gulp-if"); //任务 帮助调用组件</span><br><span class="line">var plumber = require("gulp-plumber"); //容错组件（发生错误不跳出任务，并报出错误内容）</span><br><span class="line">var isScriptAll = true; //是否处理所有文件，(true|处理所有文件)(false|只处理有更改的文件)</span><br><span class="line">var isDebug = true; //是否调试显示 编译通过的文件</span><br><span class="line">var gulpBabel = require("gulp-babel");</span><br><span class="line">var es2015Preset = require("babel-preset-es2015");</span><br><span class="line">var del = require("del");</span><br><span class="line">var Hexo = require("hexo");</span><br><span class="line">var hexo = new Hexo(process.cwd(), {}); // 初始化一个hexo对象</span><br><span class="line">// 清除public文件夹</span><br><span class="line">gulp.task("clean", function () {</span><br><span class="line">    return del(["public/**/*"]);</span><br><span class="line">}); </span><br><span class="line">// 下面几个跟hexo有关的操作，主要通过hexo.call()去执行，注意return</span><br><span class="line">// 创建静态页面 （等同 hexo generate）</span><br><span class="line">gulp.task("generate", function () {</span><br><span class="line">    return hexo.init().then(function () {</span><br><span class="line">        return hexo</span><br><span class="line">            .call("generate", {</span><br><span class="line">                watch: false</span><br><span class="line">            })</span><br><span class="line">            .then(function () {</span><br><span class="line">                return hexo.exit();</span><br><span class="line">            })</span><br><span class="line">            .catch(function (err) {</span><br><span class="line">                return hexo.exit(err);</span><br><span class="line">            });</span><br><span class="line">    });</span><br><span class="line">}); </span><br><span class="line">// 启动Hexo服务器</span><br><span class="line">gulp.task("server", function () {</span><br><span class="line">    return hexo</span><br><span class="line">        .init()</span><br><span class="line">        .then(function () {</span><br><span class="line">            return hexo.call("server", {});</span><br><span class="line">        })</span><br><span class="line">        .catch(function (err) {</span><br><span class="line">            console.log(err);</span><br><span class="line">        });</span><br><span class="line">}); </span><br><span class="line">// 部署到服务器</span><br><span class="line">gulp.task("deploy", function () {</span><br><span class="line">    return hexo.init().then(function () {</span><br><span class="line">        return hexo</span><br><span class="line">            .call("deploy", {</span><br><span class="line">                watch: false</span><br><span class="line">            })</span><br><span class="line">            .then(function () {</span><br><span class="line">                return hexo.exit();</span><br><span class="line">            })</span><br><span class="line">            .catch(function (err) {</span><br><span class="line">                return hexo.exit(err);</span><br><span class="line">            });</span><br><span class="line">    });</span><br><span class="line">}); </span><br><span class="line">// 压缩public目录下的js文件</span><br><span class="line">gulp.task("compressJs", function () {</span><br><span class="line">    return gulp</span><br><span class="line">        .src(["./public/**/*.js", "!./public/libs/**"]) //排除的js</span><br><span class="line">        .pipe(gulpif(!isScriptAll, changed("./public")))</span><br><span class="line">        .pipe(gulpif(isDebug, debug({ title: "Compress JS:" })))</span><br><span class="line">        .pipe(plumber())</span><br><span class="line">        .pipe(</span><br><span class="line">            gulpBabel({</span><br><span class="line">                presets: [es2015Preset] // es5检查机制</span><br><span class="line">            })</span><br><span class="line">        )</span><br><span class="line">        .pipe(uglify()) //调用压缩组件方法uglify(),对合并的文件进行压缩</span><br><span class="line">        .pipe(gulp.dest("./public")); //输出到目标目录</span><br><span class="line">});  </span><br><span class="line">// 压缩public目录下的css文件</span><br><span class="line">gulp.task("compressCss", function () {</span><br><span class="line">    var option = {</span><br><span class="line">        rebase: false,</span><br><span class="line">        //advanced: true, //类型：Boolean 默认：true [是否开启高级优化（合并选择器等）]</span><br><span class="line">        compatibility: "ie7" //保留ie7及以下兼容写法 类型：String 默认：''or'*' [启用兼容模式； 'ie7'：IE7兼容模式，'ie8'：IE8兼容模式，'*'：IE9+兼容模式]</span><br><span class="line">        //keepBreaks: true, //类型：Boolean 默认：false [是否保留换行]</span><br><span class="line">        //keepSpecialComments: '*' //保留所有特殊前缀 当你用autoprefixer生成的浏览器前缀，如果不加这个参数，有可能将会删除你的部分前缀</span><br><span class="line">    };</span><br><span class="line">    return gulp</span><br><span class="line">        .src(["./public/**/*.css", "!./public/**/*.min.css"]) //排除的css</span><br><span class="line">        .pipe(gulpif(!isScriptAll, changed("./public")))</span><br><span class="line">        .pipe(gulpif(isDebug, debug({ title: "Compress CSS:" })))</span><br><span class="line">        .pipe(plumber())</span><br><span class="line">        .pipe(cleancss(option))</span><br><span class="line">        .pipe(gulp.dest("./public"));</span><br><span class="line">});  </span><br><span class="line">// 压缩public目录下的html文件</span><br><span class="line">gulp.task("compressHtml", function () {</span><br><span class="line">    var cleanOptions = {</span><br><span class="line">        protect: /&lt;\!--%fooTemplate\b.*?%--&gt;/g, //忽略处理</span><br><span class="line">        unprotect: /&lt;script [^&gt;]*\btype="text\/x-handlebars-template"[\s\S]+?&lt;\/script&gt;/gi //特殊处理</span><br><span class="line">    };</span><br><span class="line">    var minOption = {</span><br><span class="line">        collapseWhitespace: true, //压缩HTML</span><br><span class="line">        collapseBooleanAttributes: true, //省略布尔属性的值 &lt;input checked="true"/&gt; ==&gt; &lt;input /&gt;</span><br><span class="line">        removeEmptyAttributes: true, //删除所有空格作属性值 &lt;input id="" /&gt; ==&gt; &lt;input /&gt;</span><br><span class="line">        removeScriptTypeAttributes: true, //删除&lt;script&gt;的type="text/javascript"</span><br><span class="line">        removeStyleLinkTypeAttributes: true, //删除&lt;style&gt;和&lt;link&gt;的type="text/css"</span><br><span class="line">        removeComments: true, //清除HTML注释</span><br><span class="line">        minifyJS: true, //压缩页面JS</span><br><span class="line">        minifyCSS: true, //压缩页面CSS</span><br><span class="line">        minifyURLs: true //替换页面URL</span><br><span class="line">    };</span><br><span class="line">    return gulp</span><br><span class="line">        .src("./public/**/*.html")</span><br><span class="line">        .pipe(gulpif(isDebug, debug({ title: "Compress HTML:" })))</span><br><span class="line">        .pipe(plumber())</span><br><span class="line">        .pipe(htmlclean(cleanOptions))</span><br><span class="line">        .pipe(htmlmin(minOption))</span><br><span class="line">        .pipe(gulp.dest("./public"));</span><br><span class="line">});  </span><br><span class="line">// 压缩 public/medias 目录内图片</span><br><span class="line">gulp.task("compressImage", function () {</span><br><span class="line">    var option = {</span><br><span class="line">        optimizationLevel: 5, //类型：Number 默认：3 取值范围：0-7（优化等级）</span><br><span class="line">        progressive: true, //类型：Boolean 默认：false 无损压缩jpg图片</span><br><span class="line">        interlaced: false, //类型：Boolean 默认：false 隔行扫描gif进行渲染</span><br><span class="line">        multipass: false //类型：Boolean 默认：false 多次优化svg直到完全优化</span><br><span class="line">    };</span><br><span class="line">    return gulp</span><br><span class="line">        .src("./public/medias/**/*.*")</span><br><span class="line">        .pipe(gulpif(!isScriptAll, changed("./public/medias")))</span><br><span class="line">        .pipe(gulpif(isDebug, debug({ title: "Compress Images:" })))</span><br><span class="line">        .pipe(plumber())</span><br><span class="line">        .pipe(imagemin(option))</span><br><span class="line">        .pipe(gulp.dest("./public"));</span><br><span class="line">});</span><br><span class="line">// 执行顺序： 清除public目录 -&gt; 产生原始博客内容 -&gt; 执行压缩混淆 -&gt; 部署到服务器</span><br><span class="line">gulp.task(</span><br><span class="line">    "build",</span><br><span class="line">    gulp.series(</span><br><span class="line">        "clean",</span><br><span class="line">        "generate",</span><br><span class="line">        "compressHtml",</span><br><span class="line">        "compressCss",</span><br><span class="line">        "compressJs",</span><br><span class="line">        "compressImage",</span><br><span class="line">        gulp.parallel("deploy")</span><br><span class="line">    )</span><br><span class="line">);  </span><br><span class="line">// 默认任务</span><br><span class="line">gulp.task(</span><br><span class="line">    "default",</span><br><span class="line">    gulp.series(</span><br><span class="line">        "clean",</span><br><span class="line">        "generate",</span><br><span class="line">        gulp.parallel("compressHtml", "compressCss", "compressJs","compressImage")</span><br><span class="line">    )</span><br><span class="line">);</span><br><span class="line">//Gulp4最大的一个改变就是gulp.task函数现在只支持两个参数，分别是任务名和运行任务的函数</span><br></pre></td></tr></tbody></table></figure>
<ol start="3">
<li>以后的执行方式有两种：
<ul>
<li>直接在Hexo根目录执行 gulp或者 gulp default ，这个命令相当于 hexo cl&amp;&amp;hexo g 并且再把代码和图片压缩。</li>
<li>在Hexo根目录执行 gulp build ，这个命令与第1种相比是：在最后又加了个 hexo d ，等于说生成、压缩文件后又帮你自动部署了。</li>
</ul>
</li>
</ol>
<blockquote>
<p>值得注意的是：这个加入了图片压缩，如果不想用图片压缩可以把第154行的 “compressImage”, 和第165行的 ,“compressImage” 去掉即可</p>
</blockquote>
<h4 id="方法二hexo-neat插件实现代码压缩"><a class="markdownIt-Anchor" href="#方法二hexo-neat插件实现代码压缩"></a> 方法二：hexo-neat插件实现代码压缩</h4>
<p>可能以上方法比较复杂，来介绍个简单的，<a target="_blank" rel="noopener" href="https://github.com/rozbo/hexo-neat">hexo-neat</a>插件也是用来压缩代码的，底层也是通过gulp来实现的。</p>
<p>但是这个插件是有Bug的：</p>
<ul>
<li>压缩 md 文件会使 markdown 语法的代码块消失</li>
<li>会删除全角空格</li>
</ul>
<p>在博客站点根目录执行安装代码：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">npm install hexo-neat --save</span><br></pre></td></tr></tbody></table></figure>
<p>紧接着在站点根目录下的配置文件添加如下代码：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">neat_enable: true</span><br><span class="line">neat_html:</span><br><span class="line">  enable: true</span><br><span class="line">  exclude:</span><br><span class="line">neat_css:</span><br><span class="line">  enable: true</span><br><span class="line">  exclude:</span><br><span class="line">    - '*.min.css'</span><br><span class="line">neat_js:</span><br><span class="line">  enable: true</span><br><span class="line">  mangle: true</span><br><span class="line">  output:</span><br><span class="line">  compress:</span><br><span class="line">  exclude:</span><br><span class="line">    - '*.min.js'</span><br></pre></td></tr></tbody></table></figure>
<p>然后直接** hexo cl&amp;&amp;hexo g **就可以了，会自动压缩文件 。</p>
<p>补充：为了解决以上Bug，对于matery主题（其他主题自行解决）需要将以上默认配置修改为：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">#hexo-neat 优化提速插件（去掉HTML、css、js的blank字符）</span><br><span class="line">neat_enable: true</span><br><span class="line">neat_html:</span><br><span class="line">  enable: true</span><br><span class="line">  exclude:</span><br><span class="line">    - '**/*.md'</span><br><span class="line">neat_css:</span><br><span class="line">  enable: true</span><br><span class="line">  exclude:</span><br><span class="line">    - '**/*.min.css'</span><br><span class="line">neat_js:</span><br><span class="line">  enable: true</span><br><span class="line">  mangle: true</span><br><span class="line">  output:</span><br><span class="line">  compress:</span><br><span class="line">  exclude:</span><br><span class="line">    - '**/*.min.js'</span><br><span class="line">    - '**/**/instantpage.js'</span><br><span class="line">    - '**/matery.js'</span><br></pre></td></tr></tbody></table></figure>
<h2 id="十-seo优化"><a class="markdownIt-Anchor" href="#十-seo优化"></a> 十、SEO优化</h2>
<p>请参考这篇博文：<a target="_blank" rel="noopener" href="https://blog.sky03.cn/posts/42790.html#toc-heading-18">https://blog.sky03.cn/posts/42790.html#toc-heading-18</a></p>
<h2 id="十一-新建文章自动打开本地markdown编辑器"><a class="markdownIt-Anchor" href="#十一-新建文章自动打开本地markdown编辑器"></a> 十一、新建文章自动打开本地Markdown编辑器</h2>
<p>写新文章时，需要控制台执行hexo new “文章名字”，这样就会在<strong>posts</strong>下生成一篇新文章，但需要手动打开，挺麻烦，只需要在站点根目录下新建scripts目录，然后在新建<strong>auto_open.js</strong>，在文件填入一下内容：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">var spawn = require('child_process').exec;</span><br><span class="line"></span><br><span class="line">// Hexo 2.x 用户复制这段</span><br><span class="line">//hexo.on('new', function(path){</span><br><span class="line">  //spawn('start  "markdown编辑器绝对路径.exe" ' + path);</span><br><span class="line">//});</span><br><span class="line"></span><br><span class="line">// Hexo 3 用户复制这段</span><br><span class="line">hexo.on('new', function(data){</span><br><span class="line">  spawn('start  "D:\Program Files\Typora\Typora.exe" ' + data.path);</span><br><span class="line">});</span><br><span class="line">其中"D:\Program Files\Typorae\Typora.exe"是我本地编辑器的路径，只需要改为你本地编辑器的路径即可，然后在执行hexo cl &amp;&amp; hexo g -d，部署到GitHub即可，以后在发布文章就会自动打开编辑器。</span><br></pre></td></tr></tbody></table></figure>
<p>文章参考来源</p>
<ul>
<li>matery主题文档</li>
<li>Matery主题配置豆瓣插件</li>
<li>Hexo博客主题个性化</li>
<li>Hexo进阶之各种优化</li>
<li>hexo博客美化</li>
</ul>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
	  <div class="article-footer-copyright">

    本博客采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议(CC BY-NC-SA 4.0) 发布.</a>
</div>

	</div>

	
	<span id="/posts/fef1.html" class="leancloud-visitors view" data-flag-title="Hexo+github搭建博客">
		<em class="post-meta-item-text"> Page View </em> <i class="leancloud-visitors-count"></i>
	</span>
	
	<div>
  	<center>

	<div class="pagination">

    
    
    <a href="/posts/702d.html" type="button" class="btn btn-default"><i
                class="fa fa-arrow-circle-o-left"></i> 上一页</a>
    

    <a href="/" type="button" class="btn btn-default"><i class="fa fa-home"></i>Home</a>
    
    <a href="/posts/88d3.html" type="button" class="btn btn-default ">下一页<i
                class="fa fa-arrow-circle-o-right"></i></a>
    

    
</div>


    </center>
	</div>
	
	<!-- comment -->
	<!--
<section id="comment">
    <h2 class="title">留言</h2>

    
</section>

-->
	
		<section id="comments" class="comments">
			<style>
			.comments{margin:30px;padding:10px;background:rgb(0, 0, 0)}
			@media screen and (max-width:800px){.comments{margin:auto;padding:10px;background:#000}}
			</style>
			<div id="vcomment" class="comment"></div>
<script src='//unpkg.com/valine/dist/Valine.min.js'></script>
<script src="https://cdnjs.loli.net/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script>
var valineConfig = {"enable":true,"appId":"AA9eNAftQgfjEcK3l0j71rDS-gzGzoHsz","appKey":"E1r06kyXdl3RxWbXxaUQ6tPg","placeholder":"提交评论时留下邮箱收到回复后将自动通知","visitor":true,"avatar":"monsterid","requiredFields":["nick","mail"]}
valineConfig.el='#vcomment';
new Valine(valineConfig);
    // new Valine({
    //     el: '#vcomment',
    //     appId: "",
    //     appKey: "",
    //     placeholder: "提交评论时留下邮箱收到回复后将自动通知",
    //     avatar:"monsterid",
    //     visitor: "true",
    //     requiredFields: "nick,mail".split(','),
    // });
</script>

		</section>
	
	</div> <!-- col-md-9/col-md-12 -->


	
	<div id="side_meta">
		<div class="col-md-3" id="post_meta"> 

	<!-- date -->
	
	<div class="meta-widget">
	<i class="fa fa-clock-o"></i>
	2020-05-02 
	</div>
	

	<!-- categories -->
    
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#categorys"><i class="fa fa-folder"></i></a>	
    <ul id="categorys" class="tag_box list-unstyled collapse in">
          
  <li>
    <li><a href="/categories/Blog/">Blog<span>1</span></a></li>
  </li>

    </ul>
	</div>
	

	<!-- tags -->
	
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#tags"><i class="fa fa-tags"></i></a>		  
    <ul id="tags" class="tag_box list-unstyled collapse in">	  
	    
  <li><a href="/tags/Hexo/">Hexo<span>1</span></a></li> <li><a href="/tags/matery/">matery<span>1</span></a></li>
    </ul>
	</div>
		

	<!-- toc -->
	<div class="meta-widget">
	
	</div>
	
    <hr>
	
</div><!-- col-md-3 -->

		

	</div>
	
		

</div><!-- row -->

<!--
 -->



	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  
  &copy; 2022 Heisenberg Lee's Blog
  
      powered by <a href="http://hexo.io/" target="_blank">Hexo</a>.Theme <a href="https://github.com/Ares-X/hexo-theme-freemind.bithack" target="_blank">freemind.bithack</a>  
</p>
 </footer>
</div> <!-- container-narrow -->
  


  
<a id="gotop" href="#">   
  <span>⬆︎TOP</span>
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>


        <script src="//cdn.jsdelivr.net/npm/js-base64/base64.min.js"></script>
        <script>
        $('a').each(function() {
          const $this = $(this);
          const href = $this.attr('href');
          if (href && href.match('^((http|https|thunder|qqdl|ed2k|Flashget|qbrowser|ftp|rtsp|mms)://)')) {
            const strs = href.split('/');
            if (strs.length >= 3) {
                const host = strs[2];
                if (host !== 'tlhg.top' || window.location.host) {
                    $this.attr('href', '/go.html?u='+Base64.encode(href)+'').attr('rel', 'external nofollow noopener noreferrer');
                    if (true) {
                        $this.attr('target', '_blank');
                    }
                }
            }
          }
        });
        </script></body>
   </html>
